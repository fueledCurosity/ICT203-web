(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2590],{81396:function(e){e.exports={GoodsSkeletonWrapper:"GoodsSkeletonWrapper-1ek8u",goodsSkeletonImgContainer:"goodsSkeletonImgContainer-3YXja",skeletonImgContainer:"skeletonImgContainer-24zMO",goodsSkeletonName:"goodsSkeletonName-g8QyZ",skcSkeleton:"skcSkeleton-3z7Cv",skeletonSaleInfo:"skeletonSaleInfo-x7_KN",attributesTag:"attributesTag-16u27",goodsWrapper:"goodsWrapper-rOnMF",noHover:"noHover-2kHaA",showCategoryCard:"showCategoryCard-DjcTL",processTag:"processTag-135wT",qualityTags:"qualityTags-3VY1q",hoverThemeDefault:"hoverThemeDefault-cUAur",FadeIn:"FadeIn-8C3JC",hoverThemeScale:"hoverThemeScale-1G1VT",goodsImgContainer:"goodsImgContainer-3880I",goodsImg:"goodsImg-2FWCs",goodsImgWithFullHeight:"goodsImgWithFullHeight-2d9HL",adultGoodsImg:"adultGoodsImg-igBo3",watermark:"watermark-3l1zd",noImgContainer:"noImgContainer-Y41XX",nameAndAvatar:"nameAndAvatar-1u9Uv",flexContainer:"flexContainer-1jwk9",marketPriceAndSales:"marketPriceAndSales-3o8sO",discountPrice:"discountPrice-1FqKm",unitPrefix:"unitPrefix-RV8DH",unitSuffix:"unitSuffix-3RyHK",priceText:"priceText-1l8dH",marketPrice:"marketPrice-Ff3dr",reductionText:"reductionText-3CXUK",saleInfo:"saleInfo-21nMm",inActivityPriceBtnGray:"inActivityPriceBtnGray-12otP",saleInfoL:"saleInfoL-1kMLf",addCartWrap:"addCartWrap-1J_5s",noCart:"noCart-3-hLX",saleInfoR:"saleInfoR-3hs1Q",item:"item-20FJP",clearance:"clearance-13Ewc",flashSale:"flashSale-SwP10",cartWrap:"cartWrap-1u6jk",isRtl:"isRtl-37irn",saleText:"saleText-31g9K",saleNum:"saleNum-NwHKF",placeHolder:"placeHolder-EXXpL",goodsTags:"goodsTags-2lbga",tag:"tag-2f6uz",rateContainer:"rateContainer-3X8K_",commentNum:"commentNum-1IzE7",brandTagIcon:"brandTagIcon-2kTKN",brandTags:"brandTags-4_qk7",cardWrap:"cardWrap-_PRvD",cartPlaceholder:"cartPlaceholder-1GusL",cartBtn:"cartBtn-1taUz",bottomTips:"bottomTips-3iXUW",personalizationTag:"personalizationTag-2z_V2",img:"img-1mxAg",text:"text-KtyJg",goodsTag:"goodsTag-jpiz-",title:"title-2wSZV",billboardTagWrap:"billboardTagWrap-1C9UU",goodsTagSeat:"goodsTagSeat-2ZfYT",imageSliderWrap:"imageSliderWrap-1uUyL",multiImgFadeAniEnable:"multiImgFadeAniEnable-Qws6D",hoverImageLoad:"hoverImageLoad-1D_Nl",comment:"comment-38A-6",promotionTagDiscount:"promotionTagDiscount-3F48L",promotionPrise:"promotionPrise-1g4vx",promotionText:"promotionText-X9lHy",promotionTextScale:"promotionTextScale-1YoeI",nameWrap:"nameWrap-e4OGP",GrayGoodsName:"GrayGoodsName-3eDSF",GraySmallGoodsName:"GraySmallGoodsName-3Y1cw",GraySmallThinGoodsName:"GraySmallThinGoodsName-2MOdH",payTag:"payTag-2hy9Y",couponTag:"couponTag-yFK1x",newStyle:"newStyle-3MUkB",urgency:"urgency-1-pHg",priceOnTop:"priceOnTop-37tNo",goodsImageWrap:"goodsImageWrap-2Xcpq",rateAndSaleInfo:"rateAndSaleInfo-1sS5F",bookAttributeTag:"bookAttributeTag-3_Xi0",mixBenefitTag:"mixBenefitTag-2jnu-",topSpecTag:"topSpecTag-MJhnv",fadeOut:"fadeOut-1dsQ4"}},79709:function(e){e.exports={title:"title-2ae0E",cardWrap:"cardWrap-345tX",autoFitList:"autoFitList-1NDyc"}},63379:function(e){e.exports={wrap:"wrap-3dJeY",link:"link-FvVcE",icon:"icon-AabgB"}},89169:function(e){e.exports={quickLookAndAttributesTags:"quickLookAndAttributesTags-IlmQG",videoIconUrl:"videoIconUrl-1bQ2i",hasAttribute:"hasAttribute-1TGTx",attrs:"attrs-3I0XR"}},97931:function(e){e.exports={titleTagWrap:"titleTagWrap-3b7-H",titleTag:"titleTag-1dxyH",top:"top-3Emcu",promotion:"promotion-9UGEt",freeTagWrap:"freeTagWrap-1mnmq",noshrink:"noshrink-3Qi4s"}},25173:function(e){e.exports={arrowWrap:"arrowWrap-6A3Oq",arrowLeft:"arrowLeft-3nyDB",arrowRight:"arrowRight-2ehRn",arrow:"arrow-1Q5uq",innerArrowLeft:"innerArrowLeft-bGCjM",innerArrowRight:"innerArrowRight-22xGZ",hide:"hide-LKO5q"}},7124:function(e){e.exports={headTagWrap:"headTagWrap-30tCp",img:"img-MzMKB",placeholder:"placeholder-2hRvL"}},28478:function(e){e.exports={attributesTag:"attributesTag-Aferx",img:"img-2azHl",textListWrap:"textListWrap-1UpQy",text:"text-3qGRO",newStyle:"newStyle-3pQZ_"}},60210:function(e){e.exports={tags:"tags-2YKJn",item:"item-KeECq"}},80281:function(e){e.exports={capsuleTag:"capsuleTag-1TF2n",icon:"icon-1_Gn9",text:"text-UDW1T"}},54475:function(e){e.exports={tag:"tag-2SWxQ",line:"line-1genn",firstText:"firstText-3dzJG"}},54215:function(e){e.exports={discountPriceTag:"discountPriceTag-2HywM",discountPrice:"discountPrice-23TfY",arrow:"arrow-3Qvg4",tagContent:"tagContent-1IgHD",discountContent:"discountContent-2dx2q",specialTag:"specialTag-223hp",content:"content-1pke-",footerText:"footerText-13iXh",text:"text-whl3z",countDown:"countDown-2jire",withBgCountDown:"withBgCountDown-hb5Yw",newStyle:"newStyle-p0JyO",withBorder:"withBorder-23srf",withBg:"withBg-P09fu",singleGoodsCoupon:"singleGoodsCoupon-2nnrz",textWrap:"textWrap-2_1HF",singleGoodsCoupontext:"singleGoodsCoupontext-1Ky5t",discount:"discount-2KgG4",icon:"icon-2qbN1",tagIcon:"tagIcon-1HYup",line:"line-2c1M2"}},99220:function(e){e.exports={container:"container-1r0qF",content:"content-LIP3X",titleWrap:"titleWrap-ZMAZU",title:"title-2MWl3",arrowRight:"arrowRight-2o-uw",close:"close-2GeDa",closeIcon:"closeIcon-1cqS8",listWrap:"listWrap-YUzcb",lineWrap:"lineWrap-3S3bI",item:"item-3JCJc",goodsImgContainer:"goodsImgContainer-fJQet",goodsImg:"goodsImg-3bleV",tagWrap:"tagWrap-2ApsG",priceTag:"priceTag-37cF7",price:"price-3RBGY"}},29740:function(e){e.exports={wrap:"wrap-3PoGg",tagImg:"tagImg-3vRzJ",tagText:"tagText-PGxeo"}},8499:function(e){e.exports={wrap:"wrap-3pcAO",close:"close-2bCB9",closeIcon:"closeIcon-229qE",img:"img-3612k",goodsInfo:"goodsInfo-2TjsB",goodsName:"goodsName-Mkfrx",goodsDesc:"goodsDesc-2u41Y",strategy:"strategy-NMHGA",arrow:"arrow-222UY",enhanceLayer:"enhanceLayer-2InBw",imgWrap:"imgWrap-1Xs4t",imgTag:"imgTag-gypPd",tag:"tag-1buIT"}},57524:function(e){e.exports={container:"container-3HhWh",content:"content-1DRQP",avatarImage:"avatarImage-1L5nk",avatar:"avatar-2hQep"}},41363:function(e){e.exports={defaultContainer:"defaultContainer--dF6n",inner:"inner-1gGMC",expandContent:"expandContent-2UrUZ",expandContainer:"expandContainer-3nkRD",noHover:"noHover-3qPuH",showExpandAni:"showExpandAni-DpVmT",showBoxShadow:"showBoxShadow-2xK2-"}},74971:function(e){e.exports={container:"container-3iPFs",marketPrice:"marketPrice-2_eP4",discount:"discount-kRZx7"}},3849:function(e){e.exports={wrap:"wrap-2lts5",processWrap:"processWrap-1XGFi",withCart:"withCart-1Dbrp",process:"process-3gPf9",textLine:"textLine-2k1f0",fireIcon:"fireIcon-D-ELf",txt:"txt-qgwvJ"}},69465:function(e){e.exports={container:"container-1ZUTx",content:"content-2HqOI",titleWrap:"titleWrap-2V5N6",title:"title-cm_Cn",arrowRight:"arrowRight-1dFCl",close:"close-1ZfmD",closeIcon:"closeIcon-2OHL-",listWrap:"listWrap-3YArX",list:"list-2kHcy",items:"items-m0_At",item:"item-2IS1R",goodsImgContainer:"goodsImgContainer-1bF9y",goodsImg:"goodsImg-2fs0H",goodsPriceWrap:"goodsPriceWrap-2NXCP",goodsPrice:"goodsPrice-3sNZs",price:"price-2q13F",pricePrefix:"pricePrefix-1ky0z",priceSuffix:"priceSuffix-1_ydN",isSmall:"isSmall-3MJPj",viewMoreWrap:"viewMoreWrap-29dQi",viewMoreTextWrap:"viewMoreTextWrap-3KGY_",viewMoreLogo:"viewMoreLogo-3V2-v",viewMoreText:"viewMoreText-1pYb5",arrowCls:"arrowCls-3byf6",enhanceLayer:"enhanceLayer-1wGpy"}},49774:function(e){e.exports={video:"video-2LlV5",videoPlay:"videoPlay-1JQ-6"}},67093:function(e){e.exports={payTagWrap:"payTagWrap-3pGkS",text:"text-3LMFX",imgWrap:"imgWrap-tOB9F",img:"img-2fvgO"}},20476:function(e){e.exports={overlay:"overlay-2xm8w",popover:"popover-2gZMy",icon:"icon-1vVc8",text:"text-1imYf",link:"link-1BQKN"}},64094:function(e){e.exports={headTagWrap:"headTagWrap-2c3DO",placeholder:"placeholder-3RRBf"}},37073:function(e){e.exports={localTag:"localTag-3LZD6",hasBg:"hasBg-277hv",icon:"icon-1xf9s",text:"text-Hgkh_",line:"line-1pGRY",localIcon:"localIcon-2gBya"}},39528:function(e){e.exports={container:"container-3vtIT",content:"content-38znH",header:"header-3UsTK",singleLine:"singleLine-1Tcov",footer:"footer-2Q3mW",footerText:"footerText-3z5Yi",countDown:"countDown-2K2O2",double:"double-3asVj",isCenter:"isCenter-3DYcj",promotionStyle1:"promotionStyle1-3IQrR",showFlashSeparator:"showFlashSeparator-ukN4w",flashClockImg:"flashClockImg-2YSvh",image:"image-2oyAX",sixCard:"sixCard-2D0Oj",isCountDownDays:"isCountDownDays-1cdrN",isMore:"isMore-cYsL8",flashLine:"flashLine-1Km2N"}},14930:function(e,t,n){"use strict";n.d(t,{Z:function(){return Vn}});var o=n(87612),r=n(94761),a=n(12330),l=(n(31002),n(36867),n(91560),n(96526)),i=n(72779),s=n.n(i),c=n(1369),u=n(90026),d=n(81862),m=n(89290),g=n(50853),f=(n(69632),n(87246),n(78529),n(60452),n(23395),n(17385),n(44936),n(44718),n(78966)),p=n(61233),v=n(95066),h=n(77774),_=n(16537),y=n(57411),w=n(34161),T=n(53078),S=n(1070),E=n(3419),b=n(13980),C=n.n(b),k=n(51293),x=n(77461);function I(e){var t=e.rootMargin,n=e.rootRef,o=e.children,i=(0,a._)(e,["rootMargin","rootRef","children"]),s=(0,m._)((0,l.useState)(null),2),c=s[0],u=s[1],d=void 0===n,g=d?(0,l.useRef)(null):n;(0,l.useEffect)((function(){var e={thresholds:t};g&&(e.container=g.current);var n=new k.Z(e);return u(n),function(){return n.destroy()}}),[]);var f=(0,l.useMemo)((function(){return{lazyLoader:c}}),[c]);return l.createElement(x.Z.Provider,{value:f},d?l.createElement("div",(0,r._)({ref:g},i),o):o)}I.propTypes={rootMargin:C().string,rootRef:C().object,children:C().node.isRequired,thresholds:C().string},I.defaultProps={rootMargin:"300px",thresholds:"300px"};var N=n(86687),P=n(54814),L=n(35842),M=n(13090),W=n(33823),A=n(69150),D=n(61017),R=n(45491),G=n(9937),O=n(72582),z=n(41593),H=n(77968),U=n(95482),B=n(20246),j=(n(45483),n(20306)),F=n(77263),Z=n(28478),q=n.n(Z),K=function(e){var t=e.children,n=e.style,o=void 0===n?{}:n,r=e.className,a=void 0===r?"":r;return l.createElement("div",{className:s()(q().attributesTag,a),style:o},t)},Y=function(e){var t=e.tags,n=e.grayConfig,o=e.localInfo,r=(null==n?void 0:n.cp85771)||{},a=r.value,l=r.supportRegion,i=void 0===l?[]:l,s=a&&(null==i?void 0:i.includes(+o.region)),c=null==t?void 0:t.find((function(e){return(null==e?void 0:e.tagId)===F.xI.LocalWareHouse})),u=(null==t?void 0:t.map((function(e){return null==e?void 0:e.text})))||[];return{needCarousel:s&&!!c&&(null==u?void 0:u.length)>=2,textList:u}},V=(0,T.Pf)((function(e){var t=e.tags,n=void 0===t?[]:t,r=e.className,a=void 0===r?"":r,i=e.lazy,c=e.grayConfig,u=e.goodsId,d=e.textClassName,g=(0,A.lO)(),f=g.supportWebp,p=g.localInfo,v=(null==n?void 0:n[0])||{},h=v.text,_=v.color,y=v.url,w=v.tagId,T=v.backColor,S=(0,l.useRef)(null),b=(0,l.useRef)(null),C=(0,m._)((0,l.useState)({}),2),k=C[0],x=C[1],I=(0,m._)((0,l.useState)(!1),2),N=I[0],P=I[1],L=null==n?void 0:n.find((function(e){return(null==e?void 0:e.tagId)===F.xI.LocalWareHouse})),M=y,W=_,D=Y({tags:n,grayConfig:c,localInfo:p}),R=D.needCarousel,G=D.textList;if(R){var O=L||{};M=O.url,W=O.color}var z=function(e){var t=e.num,n=e.needCarousel,o=e.containerClassName,r=e.goodsId,a=e.listRef,i=e.perHeight,s=(0,m._)((0,l.useState)(""),2),c=s[0],u=s[1];return(0,l.useEffect)((function(){var e;if(n){var l=(null==a||null==(e=a.current)?void 0:e.childNodes)||[],s=[];(null==l?void 0:l.length)&&Array.prototype.forEach.call(l,(function(e){s.push((null==e?void 0:e.offsetWidth)?(null==e?void 0:e.offsetWidth)+1:"")})),function(){for(var e=3*t,n=100/t,a=2.7/e*100,l="loop-"+r,c="@keyframes "+l+" {\n",d=0;d<t;){var m=d*n,g=d*n+a,f=s[d],p="width: "+(f?f+"px":"auto")+";";c=c+(m+"% { transform: translateY(-")+d*i+"px); "+p+" }\n"+g+"% { transform: translateY(-"+d*i+"px); "+p+" }\n",d++}var v=s[0];u("."+o+" {\n            animation: "+l+" "+e+"s ease-out infinite;\n            }"+(c+="100% { transform: translateY(-"+t*i+"px); width: "+(v?v+"px":"auto")+"; }"))}()}}),[o,r,a,n,t,i]),c}({needCarousel:R,num:null==G?void 0:G.length,containerClassName:"textList-"+u,goodsId:u,perHeight:25,listRef:b});return(0,l.useEffect)((function(){var e={};try{if(!S.current)return void P(!0);if(!b.current||!R){var t=S.current.offsetWidth/S.current.scrollWidth,n=Math.max(t,10/13),o=Math.floor(13*n),r=S.current.dataset.tagId;return e[r]={fontSize:o+"px"},x(e),void P(!0)}var a=b.current.querySelectorAll(".tagText");Array.prototype.forEach.call(a,(function(t){return function(t){var n=t.offsetWidth,o=t.scrollWidth,r=t.dataset.tagId;if(!(o<=n)){var a=n/o,l=Math.max(a,10/13),i=Math.floor(13*l);e[r]={fontSize:i+"px"}}}(t)})),x(e),P(!0)}catch(e){(0,j.K2)(e)}}),[R,13]),h?l.createElement(K,{className:s()(a,(0,o._)({},q().newStyle,!0)),style:{color:W,opacity:N?1:0,background:T}},!!z&&l.createElement("style",null,z),!!M&&l.createElement(E.ZP,{lazy:i,src:M,className:q().img,"aria-hidden":!0,processParam:{webpEnable:f},alt:""}),R?l.createElement("div",{className:q().textListWrap},l.createElement("div",{className:"textList-"+u,ref:b},null==n?void 0:n.map((function(e){var t=e||{},n=t.text,o=t.tagId;return l.createElement("span",{className:s()(q().text,"tagText",d),"data-tag-id":o,style:k[o]},n)})),l.createElement("span",{className:s()(q().text,q().limitWidth,d),ref:S,style:k[w]},h))):l.createElement("span",{className:s()(q().text,d),"data-tag-id":w,style:k[w],ref:S},h)):null})),J=(0,l.memo)(V),X=n(80281),Q=n.n(X),$=(0,T.Pf)((0,l.memo)((function(e){var t=e.data,n=e.className,o=e.style,a=(null==t?void 0:t[0])||{},i=a.text,c=a.iconImg,u=a.backColor,d=a.color;return i?l.createElement("div",{className:s()(Q().capsuleTag,n),style:(0,r._)({background:u,color:d},o||{})},!!c&&l.createElement(E.ZP,{src:c,className:Q().icon}),l.createElement("span",{className:Q().text},i)):null}))),ee=n(4180),te=n(89169),ne=n.n(te),oe=(0,T.Pf)((0,l.memo)((function(e){var t,n,a,i,c,u,d=e.imageLazy,g=e.data,f=e.imageProcessParam,p=e.onMouseDownCart,v=e.onQuickLookClick,h=e.addCartTrackingInfo,_=e.classConfig,y=e.grayConfig,w=(0,l.useRef)(null),b=(0,l.useRef)(null),C=(0,m._)((0,l.useState)(),2),k=C[0],x=C[1],I=(0,S.$)("bec-fe.bui-web-goods-list").t,N=g.goodsInfo,P=g.quickLook,L=N||{},M=L.tagsInfo,W=L.quickLook,D=L.video,R=L.goodsId,G=L.title,O=L.pageAlt,z=D||{},j=z.videoUrl,F=z.iconUrl,Z=M||{},q=Z.goodsAttributesTags,K=Z.capsuleTags,Y=(0,A.lO)().isCrawler,V=(0,r._)({open:!0},W||{},P||{}),X=!!(null==q||null==(t=q[0])?void 0:t.text),Q=!!j&&!!F,te=(null==V?void 0:V.open)&&!Y&&!Q,oe=Q||te||!!(null==q||null==(n=q[0])?void 0:n.text)||(null==K||null==(a=K[0])?void 0:a.text),re=null==y||null==(i=y.cp116861)?void 0:i.value;if((0,l.useEffect)((function(){var e,t=function(){if(w.current&&b.current){var e=2*(w.current.offsetWidth/2-b.current.offsetWidth-6);x(e<46?{opacity:0}:{maxWidth:e})}};if(null==K||null==(e=K[0])?void 0:e.text){t();var n=(0,H.D)(t,100);return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}}),[K]),!oe)return null;var ae=X||Q,le=re?ee.E:U.IH;return l.createElement("div",{className:ne().quickLookAndAttributesTags},!!te&&l.createElement(le,{className:"quickLook",id:"QuickLook-"+R,title:((null==V||null==(c=V.text)?void 0:c.text)||I("quickLookBtn")||"")+" - "+(G||"")},l.createElement(B.Z,(0,r._)({onMouseDown:p},V,{addCart:v,trackingInfo:h,classConfig:null==_?void 0:_.quickLook}))),l.createElement("div",{className:"hoverHidden",ref:w},!!ae&&l.createElement("div",{className:ne().attrs,ref:b},X?l.createElement(T.SV,null,l.createElement(J,{className:"attributesWrap",tags:q,lazy:d,grayConfig:y,goodsId:R})):Q&&l.createElement(E.ZP,{lazy:d,src:F,className:s()(ne().videoIconUrl,(0,o._)({},ne().hasAttribute,X)),"aria-hidden":!0,alt:O||G,processParam:f})),!!(null==K||null==(u=K[0])?void 0:u.text)&&l.createElement($,{data:K,style:k})))}))),re=n(8226),ae=(n(12008),n(65845),n(99492),n(64094)),le=n.n(ae),ie=function(e){var t=e.className,n=e.data,o=((null==n?void 0:n.extMap)||{}).discountPromotionTag,r=("string"==typeof o?(0,_.as)(o,{}):o)||{},a=r.text_color,i=r.bg_url,c=r.height,u=r.text,d=r.text_dx,m=r.width;return i&&c&&m?l.createElement("div",{style:{width:m,height:c,lineHeight:c+"px",backgroundImage:"url("+i+")",color:a,paddingInlineStart:d},className:s()(le().headTagWrap,t)},u,l.createElement("span",{className:le().placeholder})):null},se=n(37073),ce=n.n(se),ue=(0,l.memo)((function(e){var t=e.data,n=e.className,a=e.lazy,i=t||{},c=i.text,u=i.color,d=i.backColor,m=i.header,g=i.footer,f=g?null==m?void 0:m.backColor:"",p=(null==t?void 0:t.backColor)||f;return c||m||g?l.createElement("div",{style:{color:u,background:p},className:s()(ce().localTag,n,(0,o._)({},ce().hasBg,!!d))},g?l.createElement(l.Fragment,null,l.createElement("span",{style:{color:m.color},className:ce().text},m.text),(null==m?void 0:m.text)&&((null==g?void 0:g.text)||(null==g?void 0:g.url))?l.createElement("div",{style:{borderColor:m.color||"#fff"},className:ce().line}):null,(null==g?void 0:g.url)?l.createElement(E.ZP,{lazy:a,src:g.url,processParam:(0,r._)({},E.DJ.TINY),className:ce().localIcon}):null,(null==g?void 0:g.text)?l.createElement("span",{style:{color:g.color},className:ce().text},g.text):null):l.createElement("span",{className:ce().text},c)):null})),de=(n(69867),n(54475)),me=n.n(de),ge={1:"normal",2:"500",3:"700",4:"400"},fe=(0,l.memo)((function(e){var t,n=e.data,o=e.className,r=(n||{}).extMap;if(!(null==r?void 0:r.activityDiscountWatermark))return null;try{t=JSON.parse(null==r?void 0:r.activityDiscountWatermark)}catch(e){}var a=t||{},i=a.first_part_text,c=a.second_part_text,u=a.text_color,d=a.bg_color,m=a.first_part_text_font_style,g=a.second_part_text_font_style;if(!i&&!c)return null;var f=i&&c;return l.createElement("div",{style:{color:u,background:d},className:s()(me().tag,o)},!!i&&l.createElement("span",{className:me().firstText,style:{fontWeight:ge[m]}},i),!!f&&l.createElement("div",{className:me().line}),!!c&&l.createElement("span",{style:{fontWeight:ge[g]}},c))})),pe=n(7124),ve=n.n(pe),he=(0,T.$P)({name:"ActivityTag"})((0,l.memo)((function(e){var t=e.className,n=e.data,o=e.lazy,r=(0,A.lO)().supportWebp,a=n||{},i=a.height,c=a.width,u=a.url;return u&&i&&c?l.createElement("div",{style:{maxHeight:i},className:s()(ve().headTagWrap,t)},l.createElement(E.ZP,{className:ve().img,src:u,style:{width:c,height:i},alt:" ",processParam:{webpEnable:r},lazy:o}),l.createElement("span",{className:ve().placeholder})):null}))),_e=n(97931),ye=n.n(_e),we=(0,l.memo)((function(e){var t=e.titleHeaderTags,n=e.className,a=e.lazy,i=(0,l.useRef)(null),u=(0,m._)((0,l.useState)(t),2),d=u[0],g=u[1],f=(0,l.useRef)(),p=(0,c.t)((function(){var e;if((null==t?void 0:t.length)&&(null==(e=i.current)?void 0:e.scrollWidth)&&i.current.scrollWidth>i.current.clientWidth){var n,o=(0,re._)(d),a=i.current.scrollWidth-i.current.clientWidth,l=i.current.children||[],s=t.findIndex((function(e){return(null==e?void 0:e.marketingTagType)===F.s7.localWareHouseTag&&(null==e?void 0:e.tagId)!==F.xI.UnLock}));if(s>=0&&(null==(n=t[s])?void 0:n.footer)){var c=l[s],u=(null==c?void 0:c.children)||[];if(u.length>1){for(var m=0,f=1;f<u.length;f++){var p;m+=(null==(p=u[f])?void 0:p.clientWidth)||0}if(o[s]=(0,r._)({},t[s],{footer:null}),!(m<a))return void g(o);a-=m}}for(var v=Array.from(l),h=v.length,_=h-1;_>0;_--){if(v[_]){var y,w,T=(null==(y=l[_])?void 0:y.clientWidth)||0;if(_===h-1&&(null==(w=o[_])?void 0:w.marketingTagType)===F.s7.localWareHouseTag&&a<=T-20)return;if(o[_]={},a<=T)break;a-=T}}g(o)}})),v=(0,c.t)((function(){clearTimeout(f.current),f.current=setTimeout((function(){p()}),200)}));if((0,l.useEffect)((function(){return p(),window.addEventListener("resize",v),function(){window.removeEventListener("resize",v)}}),[]),!(null==d?void 0:d.length))return null;var h,_=null==d?void 0:d.find((function(e){return(null==e?void 0:e.marketingTagType)===F.s7.localWareHouseTag})),y=!!(null==_?void 0:_.backColor),w=!!(null==_?void 0:_.footer);return l.createElement("div",{ref:i,className:s()(ye().titleTagWrap,(h={},(0,o._)(h,ye().top,y),(0,o._)(h,ye().promotion,null==d?void 0:d.find((function(e){return(null==e?void 0:e.marketingTagType)===F.s7.titleHeaderPromotionTag}))),(0,o._)(h,ye().freeTagWrap,w),h),n)},null==d?void 0:d.map((function(e,t){var n=e||{},o=n.marketingTagType,r=n.url,i=n.width,c=n.height;return o===F.s7.titleHeaderPromotionTag?l.createElement(ie,{data:e,className:ye().titleTag,key:t+"-"+o}):o===F.s7.localWareHouseTag?l.createElement(ue,{data:e,className:s()(ye().titleTag,t!==d.length-1||w?ye().noshrink:""),lazy:!!a,key:t+"-"+o}):o===F.s7.discountTag?l.createElement(fe,{data:e,className:ye().titleTag,key:t+"-"+o}):r&&c&&i?l.createElement(he,{data:e,lazy:a}):void 0})))})),Te=n(80427),Se=function(e){var t=e.data,n=e.className,o=(t||{}).tagRichText;return o?l.createElement(Te.Fv,{newRichText:o,style:{textAlign:"left"},className:n}):null},Ee=n(72435),be=n(64714),Ce=n(27111),ke=n(63379),xe=n.n(ke),Ie=(0,T.Pf)((function(e){var t=e.data,n=e.className,r=(null==t?void 0:t[0])||{},a=r.text,i=r.url;return a?l.createElement(Ce.Z,{className:s()(xe().wrap,n,(0,o._)({},xe().link,!!i)),gap:24},l.createElement("span",{onClick:function(e){var t,n;null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e),i&&(0,be.xw)((0,be.YK)(i))}},a),!!i&&l.createElement(Ee.Z,{className:xe().icon})):null})),Ne=(0,l.memo)(Ie),Pe=n(22416),Le=n(42554),Me="discount_price_timeout",We="discount_price_info_update",Ae={},De=n(40704),Re=n(13384),Ge=function(e){var t=e.personalizationTagRef,n=e.efficiencyTagWidth,o=(0,m._)((0,l.useState)(!n),2),r=o[0],a=o[1];return(0,l.useEffect)((function(){var e;if(t.current&&n){var o,r=(null!=(o=null==(e=t.current.parentNode)?void 0:e.clientWidth)?o:0)-10,l=t.current.offsetWidth;a(!(l+n>r))}}),[n,t]),{showPersonalization:r}},Oe=n(44246),ze=n(29239),He=(n(93801),n(22979),n(91211),n(70309),n(69460),n(78315)),Ue={cbList:[],goodsNumMap:{},instance:null,addGoodsIdList:[],reduceGoodsIdList:[]},Be=function(e){Ue.cbList.find(e)||Ue.cbList.push(e)},je=function(e){if(Ue.cbList.find(e)){var t=Ue.cbList.filter((function(t){return t!==e}));Ue.cbList=t}},Fe=function(){Ue.instance=(0,He.Kd)((function(e){var t=(e||{}).cartGoodsNumMap;if(t)try{for(var n=[],o=[],r=Object.keys(Ue.goodsNumMap||{}),a=Object.keys(t||{}),l=Array.from(new Set((0,re._)(r).concat((0,re._)(a)))),i=l.length,s=0;s<i;s++){var c=l[s],u=t[c]||0,d=Ue.goodsNumMap[c]||0;u!==d&&(u>d?o.push(+c):n.push(+c))}Ue.goodsNumMap=t,Ue.addGoodsIdList=o,Ue.reduceGoodsIdList=n,Ue.cbList.forEach((function(e){try{e({addGoodsIdList:o,reduceGoodsIdList:n,goodsNumMap:Ue.goodsNumMap})}catch(e){(0,j.K2)(e)}}))}catch(e){(0,j.K2)(e)}}))},Ze=function(){"function"==typeof Ue.instance&&Ue.instance()};function qe(e){var t,n,o=e.unique_id,r=e.goods_id,a=e.item;return o?""+((null==a||null==(t=a.data)?void 0:t.uniqueId)||(null==a?void 0:a.uniqueId))==""+o:""+((null==a||null==(n=a.data)?void 0:n.goodsId)||(null==a?void 0:a.goodsId))==""+r}var Ke=function(e,t,n,o){var a=o||{},l=a.onSkuPanelClose,i=a.onSkuPanelClear,s=t||{},c=s.goods_id,u=s.unique_id,d=(s.status||{}).un_add_cart;if(!c&&!u)return e;var m,g,f,p,v,h,_,y,w,T,S=n||{},E=S.isBackAutoShowCategoryCard,b=S.isShowSimilar,C=!1,k=e.find((function(e){return qe((0,r._)({},t||{},{item:e}))})),x=k&&(y=(null==(m=k)||null==(f=m.data)||null==(g=f.extendFields)?void 0:g.gdReturnShowOpt)||(null==m||null==(p=m.extendFields)?void 0:p.gdReturnShowOpt),w=(null==m||null==(h=m.data)||null==(v=h.extendFields)?void 0:v.showSimilarItemsOnSkuClose)||(null==m||null==(_=m.extendFields)?void 0:_.showSimilarItemsOnSkuClose),T=(0,r._)({},m,{autoShowCategoryCardCount:0,autoShowSimilarCount:0}),i?(C=!0,T):b&&w&&l?(C=!0,(0,r._)({},T,{autoShowSimilarCount:m.autoShowSimilarCount||1})):E&&y&&d?(C=!0,(0,r._)({},T,{autoShowCategoryCardCount:m.autoShowCategoryCardCount||1})):T),I=e.map((function(e){return qe((0,r._)({},t||{},{item:e}))?x:(0,r._)({},e,{autoShowCategoryCardCount:x&&x.autoShowCategoryCardCount>0?0:e.autoShowCategoryCardCount||0,autoShowSimilarCount:e.autoShowSimilarCount||0})}));return C?I:e},Ye=function(e){var t=e.setDatasource,n=e.props,o=n||{},r=o.isBackAutoShowSimilar,a=o.isBackAutoShowCategoryCard,i=o.privateListId,s=r||a;(0,l.useEffect)((function(){if(s){Fe();var e=function(e){var o=(e||{}).addGoodsIdList;try{var r=Ae["lastClickGoodsInfo"];if(!(null==r?void 0:r.goodsId))return;if((null==r?void 0:r.privateListId)!==i)return;t((function(e){try{var t;!function(e){delete Ae[e]}("lastClickGoodsInfo");var a=e.find((function(e){var t,n;return r.uniqueId?(null==(n=e.data)?void 0:n.uniqueId)===r.uniqueId:(null==(t=e.data)?void 0:t.goodsId)===r.goodsId}));return a?(null==o?void 0:o.includes(null==(t=a.data)?void 0:t.goodsId))?e:Ke(e,{goods_id:a.data.goodsId,unique_id:a.data.uniqueId,status:{un_add_cart:!0}},n):e}catch(t){return(0,j.K2)(t),e}}))}catch(e){}};return Be(e),function(){s&&(je(e),Ze())}}}),[])},Ve=n(33895),Je=n(52321),Xe=n(28777),Qe=(n(67904),n(89800)),$e=n(20218),et=n(2014),tt=function(e,t){var n,o=(0,A.lO)()||{},a=(0,S.$)("bec-fe.svg-icons-h5"),i=a.t,s=a.i18n,c="M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 40.1c-260.6 0-471.9 211.3-471.9 471.9 0 260.6 211.3 471.9 471.9 471.9 260.6 0 471.9-211.3 471.9-471.9 0-260.6-211.3-471.9-471.9-471.9z m-37.9 303.6l2.7 2.4 144.6 150.6c7.2 7.5 8 18.8 2.4 27.2l-2.4 3-144.6 151c-8.3 8.7-22.1 9-30.8 0.7-7.8-7.5-8.9-19.4-2.9-28.1l2.2-2.7 130.1-135.9-130.1-135.7c-8.3-8.7-8.1-22.5 0.6-30.8 7.8-7.5 19.8-8 28.2-1.7z",u="M512 0c-282.8 0-512 229.2-512 512 0 282.8 229.2 512 512 512 282.8 0 512-229.2 512-512 0-282.8-229.2-512-512-512z m0 40.1c260.6 0 471.9 211.3 471.9 471.9 0 260.6-211.3 471.9-471.9 471.9-260.6 0-471.9-211.3-471.9-471.9 0-260.6 211.3-471.9 471.9-471.9z m37.9 303.6l-2.7 2.4-144.6 150.6c-7.2 7.5-8 18.8-2.4 27.2l2.4 3 144.6 151c8.3 8.7 22.1 9 30.8 0.7 7.8-7.5 8.9-19.4 2.9-28.1l-2.2-2.7-130.1-135.9 130.1-135.7c8.3-8.7 8.1-22.5-0.6-30.8-7.8-7.5-19.8-8-28.2-1.7z",d=(0,l.useMemo)((function(){var e,t,n;return("boolean"==typeof o.isRTL?o.isRTL:"rtl"===(null==(n=document)||null==(t=n.documentElement)||null==(e=t.getAttribute)?void 0:e.call(t,"dir")))?u:c}),[o.isRTL,u,c]);return l.createElement(et.l,(0,r._)({},e,{"aria-label":null!=(n=e["aria-label"])?n:s.exists("aria-label.TongyongChakansuoyou",{ns:"bec-fe.svg-icons-h5"})?i("aria-label.TongyongChakansuoyou"):void 0,ref:t,path:d}))},nt=l.forwardRef(tt),ot=n(12436),rt=n.n(ot),at=n(77450),lt=n(25173),it=n.n(lt);var st=function(e){var t=e.column,n=e.len,r=e.renderCustomPageTurner,a=e.classConfig,i=(0,A.lO)().isRTL,c=(0,l.useRef)(null),u=(0,m._)((0,l.useState)(1),2),d=u[0],g=u[1],f=(0,m._)((0,l.useState)([]),2),p=f[0],v=f[1],h=i?1:-1,_=d-1,y=(0,l.useMemo)((function(){return _+t>=n?{transform:"translate3d("+(p[n-1]||0)*h+"px, 0px, 0px)"}:{transform:"translate3d("+(p[_]||0)*h+"px, 0px, 0px)"}}),[_,p]),w=(0,l.useCallback)((function(){g(1)}),[]),T=(0,l.useCallback)(rt()((function(){var e=[],t=c.current;if(!t)return v([]);for(var n=t.children,o=t.getBoundingClientRect()||{},r=i?o.right:o.left,a=t.scrollWidth-t.clientWidth,l=0;l<n.length;l++){var s=n[l].getBoundingClientRect()||{};e.push(Math.min(Math.abs((i?s.right:s.left)-r),a))}return v(e)}),30),[]);(0,l.useEffect)((function(){if(c.current)return T(),window.addEventListener("resize",T),function(){window.removeEventListener("resize",T)}}),[]);var S=function(e,o){if(null==o||o.stopPropagation(),null==o||o.preventDefault(),c.current){var r="next"===e?d+t:d-t,a=Math.min(Math.max(r,1),n-t+1);T(),g(a)}};return{slidesRef:c,listStyle:y,renderPageTurner:function(){return n<=t?null:r?r({cardNo:d,onArrowClick:S,column:t,len:n}):l.createElement(l.Fragment,null,l.createElement("div",{className:s()(it().arrowWrap,it().arrowLeft,null==a?void 0:a.arrowCls)},l.createElement("div",{className:s()(it().arrow,null==a?void 0:a.leftArrowWrap,(0,o._)({},it().hide,0===_)),onClick:function(e){return S("prev",e)},tabIndex:0,role:"button"},l.createElement(at.Z,{className:s()(it().innerArrowLeft,null==a?void 0:a.innerArrowLeft)}))),l.createElement("div",{className:s()(it().arrowWrap,it().arrowRight,null==a?void 0:a.arrowCls)},l.createElement("div",{className:s()(it().arrow,null==a?void 0:a.rightArrowWrap,(0,o._)({},it().hide,_+t>=n)),onClick:function(e){return S("next",e)},tabIndex:0,role:"button"},l.createElement(Qe.Z,{className:s()(it().innerArrowRight,null==a?void 0:a.innerArrowRight)}))))},onArrowClick:S,resetCardNo:w}},ct=n(60518),ut=n(69465),dt=n.n(ut),mt=function(e){var t=(0,S.$)("bec-fe.bui-web-goods-list").t,n=e.mainGoodsId,a=e.title,i=void 0===a?t("similar.title"):a,c=e.linkURL,u=e.goodsList,m=e.viewMoreText,f=void 0===m?t("similar.viewMore"):m,p=e.onClose,v=e.onClickTitle,h=e.onClickViewMoreBtn,_=e.loggerParams,y=e.webpEnable,T=e.commonTrackingInfo,b=e.trackingGoodsInfo,C=e.isSmall,k=e.pageSn,x=st({column:3,len:u.length+1,classConfig:{arrowCls:dt().arrowCls}}),I=x.slidesRef,L=x.listStyle,M=x.renderPageTurner,W=null!=_?_:{},A=W.main,D=void 0===A?205632:A,R=W.title,G=void 0===R?205652:R,O=W.viewMore,z=void 0===O?205633:O,H=W.goods,U=void 0===H?205634:H,B=(0,r._)({},T||{},b||{},{main_goods_id:n,source_goods_id:n}),j=(0,l.useCallback)((function(e,t){return(0,d._)((function(){return(0,g.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,N.ax)(e).catch((function(){}))];case 1:return n.sent(),(0,De.jm)((0,w.ru)({refer_page_el_sn:U},(0,Xe.av)(t)),{openTarget:"_blank"}),[2]}}))}))}),[B]),F=(0,l.useCallback)((0,d._)((function(e){return(0,g.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,N.ax)({page_el_sn:z}).catch((function(){}))];case 1:return t.sent(),h?h(e):c&&(0,De.jm)((0,Xe.av)(c),{openTarget:"_blank"}),[2]}}))})),[]),Z=(0,l.useCallback)((0,d._)((function(e){return(0,g.__generator)(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),[4,(0,N.ax)({page_el_sn:G}).catch((function(){}))];case 1:return t.sent(),v?v(e):c&&(0,De.jm)((0,Xe.av)(c),{openTarget:"_blank"}),[2]}}))})),[]);if(!u||0===u.length)return null;var q=(f||"").slice(0,8);return(f||"").slice(8).split("").forEach((function(e){e&&(q+=" "===e?" ":e+"­")})),l.createElement(P.ZP,{payload:(0,r._)({},B,{page_el_sn:D})},l.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()},className:dt().enhanceLayer},l.createElement(ct.Z,{HWRatio:"calc(42.1875% + 34px)",className:dt().container,childContainerClassName:dt().content},l.createElement(P.ZP,{payload:(0,r._)({},B,{page_el_sn:G})},l.createElement("div",{className:dt().titleWrap},l.createElement("div",{className:dt().title,onClick:Z},i,l.createElement(Qe.Z,{className:dt().arrowRight})),l.createElement("div",{className:dt().close,onClick:p},l.createElement($e.Z,{className:dt().closeIcon})))),l.createElement("div",{className:dt().listWrap},l.createElement("div",{className:dt().list},l.createElement("div",{className:dt().items,ref:I,style:L},u.map((function(e,t){var n,a=e.seoLinkUrl,i=e.linkUrl,c=e.priceInfo,u=e.goodsId,d=e.pRec,m=e.pSearch,g=null!=d?d:{},f=g.show_price,p=g.show_currency,v=g.show_sales,h=(0,r._)({},B,{page_el_sn:U,goods_id:u,rec_goods_id:u,idx:t,p_rec:JSON.stringify(d),p_search:m,show_price:f,show_currency:p,show_sales:v}),_=(0,Xe.Ig)(c,"",k,u),T=_.unitPrefix,S=_.showPriceStr,b=_.unitSuffix,x=_.priceColor,I=(0,r._)({},x?{color:x}:{});return l.createElement(P.ZP,{key:e.goodsId,payload:h},l.createElement("div",{className:dt().item,onClick:j(h,a||i)},l.createElement(ct.Z,{HWRatio:1,className:dt().goodsImgContainer},l.createElement(E.ZP,{src:(0,w.Hm)(e.hdThumbUrl||e.thumbUrl||(null==(n=e.image)?void 0:n.url)||""),className:dt().goodsImg,lazy:!1,processParam:{resizeWidth:160,webpEnable:y},alt:e.title||e.goodsName||"","aria-hidden":!0}),l.createElement(Le.p,{data:e,size:"m"})),l.createElement("div",{className:dt().goodsPriceWrap},l.createElement("div",{className:dt().goodsPrice,style:I},T?l.createElement("span",{className:dt().pricePrefix},T):null,l.createElement("span",{className:s()(dt().price,(0,o._)({},dt().isSmall,C))},S),b?l.createElement("span",{className:dt().priceSuffix},b):null))))})),l.createElement(P.ZP,{payload:(0,r._)({},B,{page_el_sn:z})},l.createElement("div",{className:s()(dt().viewMoreWrap),onClick:F},l.createElement("div",{className:dt().viewMoreTextWrap},l.createElement(nt,{className:dt().viewMoreLogo}),l.createElement("div",{className:dt().viewMoreText},q)))))),M()))))},gt=(0,l.memo)(mt),ft=n(60269),pt=n(99220),vt=n.n(pt),ht=(0,T.Pf)((0,l.memo)((function(e){var t=(0,S.$)("bec-fe.bui-web-goods-list").t,n=e.mainGoodsId,o=e.title,a=void 0===o?t("similar.title"):o,i=e.linkURL,s=e.goodsList,c=e.onClose,u=e.onClickTitle,m=e.loggerParams,f=e.webpEnable,p=e.commonTrackingInfo,v=e.trackingGoodsInfo,h=e.pageSn,_=null!=m?m:{},y=_.main,T=void 0===y?205632:y,b=_.title,C=void 0===b?205652:b,k=_.goods,x=void 0===k?205634:k,I=(0,r._)({},p||{},v||{},{main_goods_id:n,source_goods_id:n}),L=(0,l.useCallback)((function(e,t){return(0,d._)((function(){return(0,g.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,N.ax)(e).catch((function(){}))];case 1:return n.sent(),(0,De.jm)((0,w.ru)({refer_page_el_sn:x},(0,Xe.av)(t)),{openTarget:"_blank"}),[2]}}))}))}),[x]),M=(0,l.useCallback)((0,d._)((function(e){return(0,g.__generator)(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),[4,(0,N.ax)({page_el_sn:C}).catch((function(){}))];case 1:return t.sent(),u?u(e):i&&(0,De.jm)((0,Xe.av)(i),{openTarget:"_blank"}),[2]}}))})),[]);if(!s||0===s.length)return null;var W=function(e,t){var n=e.seoLinkUrl,o=e.linkUrl,a=e.priceInfo,i=e.goodsId,s=e.pRec,c=e.pSearch,u=e.extendFields,d=e.hdThumbUrl,m=e.thumbUrl,g=e.image,p=e.title,v=e.goodsName,_=null!=s?s:{},y=_.show_price,T=_.show_currency,S=_.show_sales,b=(u||{}).engIcon,C=(0,r._)({},I,{page_el_sn:x,goods_id:i,rec_goods_id:i,idx:t,p_rec:JSON.stringify(s),p_search:c,show_price:y,show_currency:T,show_sales:S}),k=(0,Xe.Ig)(a,"",h,i),N=k.unitPrefix,M=k.showPriceStr,W=k.unitSuffix,A=k.priceColor,D=(0,r._)({alignItems:W?"baseline":"center"},A?{color:A}:{});return l.createElement(P.ZP,{key:i,payload:C},l.createElement("div",{className:vt().item,onClick:L(C,n||o)},l.createElement(ct.Z,{HWRatio:1,className:vt().goodsImgContainer},l.createElement(E.ZP,{src:(0,w.Hm)(d||m||(null==g?void 0:g.url)||""),className:vt().goodsImg,lazy:!1,processParam:{resizeWidth:160,webpEnable:f},alt:p||v||"","aria-hidden":!0}),!!(null==b?void 0:b.engThumbUrl)&&l.createElement(Pe.Z,{data:b,goodsId:i,size:"s"}),l.createElement("div",{className:vt().tagWrap},l.createElement(ft.V,{type:"gray",className:vt().priceTag},l.createElement("div",{style:D,className:vt().price},N?l.createElement("span",null,N):null,l.createElement("span",null,M),W?l.createElement("span",null,W):null))))))},A=s.slice(0,2).map(W),D=s.slice(2,4).map(W);return l.createElement(P.ZP,{payload:(0,r._)({},I,{page_el_sn:T})},l.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()}},l.createElement(ct.Z,{HWRatio:"calc(100% + 18px)",className:vt().container,childContainerClassName:vt().content},l.createElement(P.ZP,{payload:(0,r._)({},I,{page_el_sn:C})},l.createElement("div",{className:vt().titleWrap},l.createElement("div",{className:vt().title,onClick:M},l.createElement("span",null,a),l.createElement(Qe.Z,{className:vt().arrowRight})),l.createElement("div",{className:vt().close,onClick:c},l.createElement($e.Z,{className:vt().closeIcon})))),l.createElement("div",{className:vt().listWrap},l.createElement("div",{className:vt().lineWrap},A),l.createElement("div",{className:vt().lineWrap},D)))))}))),_t=n(29740),yt=n.n(_t),wt={1:400,2:500,3:600},Tt=function(e){var t,n=e.data,o=e.className,r=e.lazy,a=void 0===r||r;if(!(null==n?void 0:n.length))return null;var i=(null==n?void 0:n[0])||{},c=null==n||null==(t=n[0])?void 0:t.header;if(!(null==i?void 0:i.pw)&&!(null==i?void 0:i.ph))return null;var u={width:256*i.pw+"px",height:256*i.ph+"px",background:i.backColor},d=c&&{fontSize:(null==c?void 0:c.font)+"px",color:null==c?void 0:c.color,fontWeight:wt[null==c?void 0:c.textStyle]}||{};return l.createElement("div",{style:u,className:s()(yt().wrap,o)},(null==i?void 0:i.url)?l.createElement(E.ZP,{alt:null==c?void 0:c.text,src:null==i?void 0:i.url,className:yt().tagImg,lazy:a,"aria-hidden":!0}):null,c?l.createElement("div",{style:d,className:yt().tagText},null==c?void 0:c.text):null)},St=(0,l.memo)(Tt),Et=n(41737),bt=n(95391),Ct=n(86893),kt=n(57560),xt=n(4657),It=n(7840),Nt=n(59454),Pt=n(8499),Lt=n.n(Pt);function Mt(e){var t,n=e.pageSn,a=e.goodsId,i=e.closeCategoryCard,c=e.lazy,u=e.webpEnable,f=e.commonTrackingInfo,p=e.trackingGoodsInfo,v=(0,L.X2)(),_=(0,m._)((0,l.useState)({}),2),y=_[0],w=_[1],T=(0,m._)((0,l.useState)(!1),2),S=T[0],b=T[1],C=(0,l.useRef)(),k=y.optName,x=y.imageUrl,I=y.strategy,M=y.linkUrl,W=y.optId,A=y.pRec,D=y.optType,R=void 0===D?"":D,G=y.strategyColor,O=y.imageTag,z=(0,r._)({},f||{},p||{},(t={page_el_sn:212491,goods_id:a,opt_id:W,text:I,opt_level:R},(0,o._)(t,"opt_cate"+R+"_id",W),(0,o._)(t,"opt_cate_idx",0),(0,o._)(t,"p_rec",JSON.stringify(A)),t));(0,l.useEffect)((function(){v.start({type:"click"}),v.stageStart("api");var e={listId:(0,h.x)(),offset:0,pageSize:-1,pageSn:n,scene:"gd_return_opt",mainGoodsId:a};(0,Je.S6)({url:(0,Je.mx)("/api/poppy/v1/opt_list",e),params:e,config:{useAntiToken:!0}}).then((function(e){var t;v.stageEnd("api");var n=e.result,o=(null==(t=(void 0===n?{}:n).data.crumbOptList)?void 0:t[0])||{};w(o)})).catch((function(){}))}),[]);var H=O||{},U=H.text,B=H.color,j=H.bgColor;(0,l.useEffect)((function(){try{if(!U)return;if(!C.current)return;var e=C.current.offsetWidth/C.current.scrollWidth,t=Math.max(10,12*e);C.current.style.fontSize=t+"px",C.current.style.fontWeight="400"}catch(e){}finally{b(!0)}}),[U]);var F=(0,l.useCallback)((function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),(0,N.ax)({page_el_sn:212492}),i()}),[i]),Z=(0,l.useCallback)((0,d._)((function(e){return(0,g.__generator)(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),null==e||e.stopPropagation(),[4,(0,N.ax)(z).catch((function(){}))];case 1:return t.sent(),(0,De.jm)(M,{openTarget:"_blank"}),[2]}}))})),[M]);return k&&I&&M?l.createElement(P.ZP,{payload:z},l.createElement("div",{className:s()(Lt().wrap,Lt().enhanceLayer),onClick:Z,style:{opacity:S?1:0},tabIndex:0,role:"button"},l.createElement("div",{className:Lt().close,onClick:F,tabIndex:-1,role:"button"},l.createElement($e.Z,{className:Lt().closeIcon})),l.createElement("div",{className:Lt().imgWrap},l.createElement(E.ZP,{lazy:c,src:x,className:Lt().img,"aria-hidden":!0,alt:I,processParam:{resizeWidth:84,webpEnable:u}}),!!U&&l.createElement("div",{className:Lt().imgTag,style:{color:B,backgroundColor:j}},l.createElement("span",{className:Lt().tag,ref:C},U))),l.createElement("div",{className:Lt().goodsInfo},l.createElement("div",{className:Lt().goodsName},k),l.createElement("div",{className:Lt().goodsDesc},l.createElement("div",{className:Lt().strategy,style:{color:G}},I),l.createElement(Qe.Z,{className:Lt().arrow,style:{fill:G}}))),l.createElement(v.End,{name:"pc_buiGoodsListShowCategory"}))):null}var Wt,At=(0,l.memo)(Mt),Dt=n(19458),Rt=n(39100),Gt=n(26729),Ot=n(4247),zt=n(20476),Ht=n.n(zt),Ut=function(e){var t=e.icon,n=e.rtlIcon,r=e.textList,a=e.fillColor;return((0,A.lO)().isRTL&&n?n:t)?l.createElement(Ot.Z,{overlay:l.createElement("div",{className:Ht().overlay,onClick:function(e){var t,n;null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e)},role:"dialog"},null==r?void 0:r.map((function(e,t){var n=e||{},r=n.text,a=n.url;return r?l.createElement("div",{className:s()(Ht().text,(0,o._)({},Ht().link,!!a)),onClick:function(e){var t,n;null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e),a&&(0,De.jm)((0,be.YK)(a),{openTarget:"_blank"})},role:a?"link":void 0,key:t},r):null}))),placement:"bottom",trigger:"hover",appendToBody:!0,innerClassName:Ht().popover,adapted:!0,mountPopupWhenInit:!0},a?l.createElement(Gt.Z,{fill:a,className:Ht().marketPriceIcon}):l.createElement(E.ZP,{src:t,className:Ht().icon,onClick:function(e){var t,n;null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e)},"aria-hidden":!0,alt:"","data-tooltip-ignore":"true"})):null},Bt=n(54215),jt=n.n(Bt),Ft=(0,T.Pf)((function(e){var t=e.data,n=e.goodsId,r=e.className,a=(null==t?void 0:t[0])||{},i=a.endTime,c=a.text,d=a.tagType,g=a.color,f=void 0===g?"#0A8800":g,p=a.tagId,v=a.header,h=a.footer,_=a.extMap,y=a.backColor,w=a.url,T=F.xI.Discount===p,S=_||{},b=S.tagEndStr,C=S.tagEndStrColor,k=S.tagStyle,x=void 0===k?1:k,I=S.tagIcon,N=S.explainIcon,P=S.explainText,L=b&&2==+x,M=(0,u.FG)().nowTime,W=(0,l.useRef)(!0),D=(0,l.useRef)(),R=0,G=(0,m._)((0,l.useState)(),2),O=G[0],z=G[1],H=d===F.Gm.singleGoodsCoupon;M&&i&&(R=R<0?R:i-M);var U=(0,A.lO)().supportWebp;(0,l.useEffect)((function(){"number"==typeof i&&R<=0&&!W.current&&!T&&(document.dispatchEvent(new CustomEvent(Me,{detail:{goodsId:n}})),W.current=!0)}),[i,n,T,R]);var B=!c&&!(null==v?void 0:v.text);if((0,l.useEffect)((function(){W.current=!1}),[]),(0,l.useEffect)((function(){if(!B&&D.current){var e=D.current.clientWidth/D.current.scrollWidth,t=Math.max(11,13*e);z({fontSize:t+"px"})}}),[B]),B)return null;if(H)return l.createElement("div",{className:s()(jt().discountPriceTag,jt().singleGoodsCoupon,jt().newStyle,r)},l.createElement("div",{className:s()(jt().textWrap,y&&jt().withBg),style:{color:f,border:f&&!y?"1px solid "+f:"",background:y}},!!w&&l.createElement(E.ZP,{src:w,className:jt().icon,processParam:{webpEnable:U},"aria-hidden":!0,alt:""}),l.createElement("span",{className:jt().singleGoodsCoupontext},c)));var j,Z,q=i?l.createElement(l.Fragment,null,4==+x&&l.createElement("div",{className:jt().line}),l.createElement(Rt.Z,{endTime:i,className:s()(jt().countDown,(0,o._)({},jt().withBgCountDown,4==+x))})):T&&(null==h?void 0:h.text)&&l.createElement("span",{className:jt().footerText},null==h?void 0:h.text),K=P?[{text:P}]:[];return l.createElement("div",{className:s()(jt().discountPriceTag,jt().newStyle,r)},l.createElement("div",{className:s()(jt().discountPrice,(j={},(0,o._)(j,jt().withBorder,3==+x),(0,o._)(j,jt().withBg,4==+x),j)),style:{opacity:O?"1":"0"}},l.createElement("div",{className:s()(jt().tagContent,(Z={},(0,o._)(Z,jt().discountContent,T),(0,o._)(Z,jt().specialTag,L),Z))},l.createElement("div",{className:jt().content},!!I&&l.createElement(E.ZP,{src:I,className:jt().tagIcon,processParam:{webpEnable:U},"aria-hidden":!0,alt:""}),l.createElement("div",{className:jt().text,style:O,ref:D},T?null==v?void 0:v.text:c)),L?l.createElement("span",{className:s()(jt().footerText,jt().discount),style:{color:C}},b):q)),!!N&&!!P&&l.createElement(Ut,{icon:N,textList:K}))})),Zt=n(60210),qt=n.n(Zt),Kt=(0,T.Pf)((0,l.memo)((function(e){var t=e.data,n=e.className,o=null==t?void 0:t.filter((function(e){return e.color&&e.text}));return(null==o?void 0:o.length)?l.createElement("div",{className:s()(qt().tags,n)},o.map((function(e){var t=e.text,n=e.color;return l.createElement("span",{style:{color:n},className:qt().item},t)}))):null}))),Yt=n(87364),Vt=n(3849),Jt=n.n(Vt),Xt=function(e){var t=e.processTrackingInfo,n=e.className,r=e.ratio,a=e.salesPercentStr,i=e.fill,c=void 0===i?"#fb7707":i,u=e.withCart,d={width:r+"%"};return l.createElement(P.ZP,{payload:{page_el_sn:null==t?void 0:t.pageElSn}},l.createElement("div",{className:s()(Jt().wrap,n)},l.createElement("div",{className:s()(Jt().processWrap,(0,o._)({},Jt().withCart,u))},l.createElement("div",{className:Jt().process,style:d})),l.createElement("div",{className:Jt().textLine},r>=65&&l.createElement(Yt.i0,{path:"M432.1 0c149.7 87.7 250.7 246.3 254.3 428.1 30.2-30.1 52.4-68 63-110.3l0.8-3.2c88.8 68.6 145.8 174.8 145.8 293.9 0 6.8-0.2 13.6-0.6 20.4 0.4 6.8 0.6 13.6 0.6 20.5 0 206.9-171.9 374.6-384 374.6-212.1 0-384-167.7-384-374.6 0-103.1 42.7-196.4 111.7-264.2 91.9-104.6 158.1-231.2 189.3-370.5l3.1-14.7z",style:{fill:c},className:Jt().fireIcon}),!!a&&l.createElement("div",{className:Jt().txt},a))))},Qt=n(74971),$t=n.n(Qt),en=function(e){var t=e.className,n=e.marketPrice,o=e.discount,r=e.prefix;return n&&o?l.createElement("div",{className:s()($t().container,t)},l.createElement("div",{className:$t().marketPrice},r||"",n),l.createElement("div",{className:$t().discount},o)):null},tn=(0,l.memo)(en),nn=n(67093),on=n.n(nn),rn=function(e){var t=e.firstInstallmentTag,n=e.className,o=e.lazy,r=(null==t?void 0:t[0])||{},a=r.text,i=r.color,c=r.urls,u=(0,A.lO)().supportWebp;return a&&(null==c?void 0:c.length)?l.createElement("div",{className:s()(on().payTagWrap,n)},l.createElement("div",{className:on().text,style:{color:i}},a),l.createElement("div",{className:on().imgWrap},c.map((function(e){return e?l.createElement(E.ZP,{lazy:o,src:e,className:on().img,"aria-hidden":!0,processParam:{webpEnable:u,resizeWidth:70},alt:""}):null})))):null},an=n(78802),ln=n(3225),sn=n(77544),cn=n(17724),un=n(57524),dn=n.n(un),mn=function(e){var t=e.comment,n=e.avatar,o=e.className,r=e.style,a=e.lazy,i=e.webpEnable;return t&&n?l.createElement("div",{className:s()(dn().container,o),style:r},l.createElement("div",{className:dn().content,tabIndex:0},l.createElement("div",{className:dn().avatarImage},l.createElement(E.ZP,{lazy:a,src:n,className:dn().avatar,"aria-hidden":!0,alt:t,processParam:{resizeWidth:57,webpEnable:i}})),t)):null},gn=(0,l.memo)(mn),fn=n(64391),pn=n(89693),vn=(n(27635),function(e){return e[e.center=1]="center",e}({})),hn=n(39528),_n=n.n(hn),yn=function(e){var t,n,a=e.header,i=e.url,c=e.footer,d=e.iconImg,g=e.className,f=e.lazy,p=void 0!==f&&f,v=e.ph,h=e.textCentered,_=e.promotionStyle,y=e.textYPercent,w=e.classConfig,T=e.serverTime,S=e.rowNum,b=(0,A.lO)().isRTL,C=(0,l.useRef)(null),k=(0,l.useRef)(null),x=(0,l.useRef)(!1),I=a||{},N=I.text,P=I.color,L=c||{},M=L.endTime,W=L.text,D=L.color,R=(null==a?void 0:a.dx)||(null==c?void 0:c.dx)||0,G=h===vn.center,O=1===_,z=2===_,H=N&&W&&!O&&!z,U={color:D},B=(0,Xe.mr)(M||e.endTime||""),j=T||Date.now(),F=(0,l.useRef)(B&&B+2e3>j),Z=(0,u.FG)().nowTime,q=0;Z&&F.current&&(q=B-Z);var K=q>0,Y=!(K&&B),V={color:P,marginTop:H?"1.6%":"0px",opacity:Y?0:1,whiteSpace:"nowrap"},J=(0,m._)((0,l.useState)(V),2),X=J[0],Q=J[1],$=(0,l.useCallback)((function(){if(!C.current||!k.current||!Y)return Q((function(e){return(0,r._)({},e,{opacity:1})}));var e=.8*k.current.offsetHeight;return(C.current.scrollWidth>C.current.clientWidth||x.current)&&(x.current=!0,Q((function(t){return(0,r._)({},t,{opacity:1,fontSize:e,whiteSpace:"initial",lineHeight:e+4+"px",marginTop:"-2px"})}))),Q((function(e){return(0,r._)({},e,{opacity:1})}))}),[Y]);if((0,l.useEffect)((function(){return $(),window.addEventListener("resize",$),function(){window.removeEventListener("resize",$)}}),[Y,$]),!i||B&&!K)return null;var ee=!N&&W&&!O&&!z&&K&&B&&((null==W||null==(n=W.trim)||null==(t=n.call(W))?void 0:t.length)>10||B-j>Xe.dJ+2e3),te=v?{paddingBottom:100*v+"%"}:{},ne={width:G?"200%":2*(1-R)*100+"%"};b?ne.right=G?"0px":100*R+"%":ne.left=G?"0px":100*R+"%",v&&y&&(ne.paddingTop=v*y*2*100+"%");var oe,re,ae,le=K&&B&&z&&d;return l.createElement("div",{className:s()(_n().container,g,null==w?void 0:w.container,(ae={},(0,o._)(ae,_n().double,H),(0,o._)(ae,_n().isCenter,G),(0,o._)(ae,_n().promotionStyle1,1===_),(0,o._)(ae,_n().showFlashSeparator,le),(0,o._)(ae,_n().isCountDownDays,ee),(0,o._)(ae,_n().isMore,(null!=(oe=null==N?void 0:N.length)?oe:0)>22||(null!=(re=null==W?void 0:W.length)?re:0)>14&&K&&B),(0,o._)(ae,_n().sixCard,6===S),ae)),style:te,tabIndex:-1,ref:k},i?l.createElement(E.ZP,{src:i,lazy:p,className:s()(_n().image,null==w?void 0:w.image),"aria-hidden":!0,alt:""+(N||""),processParam:{resizeWidth:512,quality:100}}):null,l.createElement("div",{className:s()(_n().content,null==w?void 0:w.content),style:ne},N?l.createElement("div",{className:s()(_n().header,null==w?void 0:w.header,(0,o._)({},_n().singleLine,!(K&&B))),style:X,role:"link",ref:C},N):null,K&&B?l.createElement("div",{className:s()(_n().footer,null==w?void 0:w.footer,(0,o._)({},_n().singleLine,!N&&W&&K&&B)),style:U},le?l.createElement(E.ZP,{alt:N,lazy:p,src:d,className:_n().flashClockImg,processParam:{resizeWidth:33,quality:100},"aria-hidden":!0}):null,l.createElement("span",{className:s()(_n().footerText,null==w?void 0:w.footerText),role:"link"},W),l.createElement(Rt.Z,{endTime:B,className:s()(_n().countDown,null==w?void 0:w.countDown),style:{color:D},role:"link"})):null))},wn=(0,l.memo)(yn),Tn=n(81396),Sn=n.n(Tn),En=function(){},bn=(0,l.memo)((function(e){var t=e.tooltipProps,n=(0,a._)(e,["tooltipProps"]);return t?l.createElement(U.IH,t,l.createElement(gt,n)):l.createElement(gt,n)})),Cn="undefined"!=typeof document&&"ontouchstart"in document,kn=(Wt={},(0,o._)(Wt,F.MV.FLASH_STYLE,Sn().flashSale),(0,o._)(Wt,F.MV.CLEAR_STYLE,Sn().clearance),(0,o._)(Wt,F.MV.NORMAL_STYLE,""),Wt),xn=(0,l.memo)((function(e){var t,n,a,i,u,b,C,k,x,H,B,j,Z,q,K,V,J,X,Q,$=e.index,te=e.pageSn,ne=e.pageElSn,re=e.cartScene,ae=e.goodsInfo,le=e.classNameWrap,ie=e.canAddToCart,se=e.cartAmount,ce=e.isMainGoods,ue=e.addToCartNewStyleEnable,de=e.CustomGoodsBtn,me=e.forwardGoodsParams,ge=e.beforeClickCart,fe=e.onGoodsClick,pe=e.reportClickLog,ve=e.onQuickLookClick,he=e.onAddCartClick,_e=e.onSkuPanelClose,ye=e.onSkuPanelSuccess,Te=e.openGoodsWithNewTab,Ee=void 0===Te||Te,Ce=e.useCartBtn,ke=e.webpEnable,xe=e.isShowProcess,Ie=void 0!==xe&&xe,Me=e.processTrackingInfo,He=e.cardTrackingInfo,Ue=e.showDiscountOnName,Be=void 0!==Ue&&Ue,je=e.grayConfig,Fe=e.startLazyIndex,Ze=e.imageRootMargin,qe=void 0===Ze?500:Ze,Ye=e.isOpenSaleInfoScale,Qe=e.isShowHoverImage,$e=void 0===Qe||Qe,et=e.skuParams,tt=e.skuOptions,nt=e.goodsNameTag,ot=e.hoverTheme,rt=void 0===ot?fn.P.DEFAULT:ot,at=e.isShowComment,lt=e.isShowBillboardTip,it=e.billboardTipProps,st=e.autoShowSimilarCount,ut=void 0===st?0:st,dt=e.autoShowCategoryCardCount,mt=void 0===dt?0:dt,gt=e.showMarketInfo,ft=e.commonGoodsTrackingInfo,pt=e.classConfig,vt=e.showMarketPriceBeforePrice,_t=e.setDatasource,yt=e.showSavePrice,wt=e.renderTopTips,Tt=e.renderBottomTips,Pt=e.renderTags,Lt=e.renderTagsBeforePrice,Mt=e.goodsConfig,Wt=e.serverTime,Rt=e.rowNum,Gt=void 0===Rt?5:Rt,Ot=e.renderCustomizeTags,zt=e.listId,Ht=e.emageProgress,Ut=void 0===Ht||Ht,Bt=e.ignoreGoodsSaleInlineScriptEffect,jt=e.refreshInfo,Zt=e.privateListId,qt=e.type,Yt=void 0===qt?F.Y1.page:qt,Vt=e.disabledForwardToGoodsDetail,Jt=e.extraTrackingInfo,Qt=ae.title,$t=ae.thumbUrl,en=ae.salesTipText,nn=ae.salesTipTextList,on=ae.salesTip,un=ae.priceInfo,dn=ae.linkUrl,mn=ae.seoLinkUrl,vn=ae.pageAlt,hn=ae.image,_n=ae.hoverImage,yn=ae.goodsId,Tn=void 0===yn?"":yn,xn=ae.pRec,In=ae.pSearch,Nn=ae.mRec,Pn=ae.mTrc,Ln=ae.ad,Mn=(ae.quickLook,ae.goodsTags),Wn=ae.specIds,An=ae.comment,Dn=ae.commentNumTips,Rn=ae.goodsScore,Gn=ae.tagsInfo,On=ae.promotionTagList,zn=ae.video,Hn=ae.noSalesTipText,Un=ae.optId,Bn=ae.ext,jn=ae.uniqueId,Fn=ae.gcId,Zn=ae.gcGoodsList,qn=ae.extendFieldsForSku,Kn=ae.extendFields,Yn=void 0===Kn?{}:Kn,Vn=Yn.marketPriceStyle,Jn=Yn.supportTagCarousel,Xn=void 0!==Jn&&Jn,Qn=Yn.titleRow,$n=void 0===Qn?1:Qn,eo=Yn.showScoreNum,to=void 0!==eo&&eo,no=Yn.saleFireFlag,oo=void 0!==no&&no,ro=Yn.salesIcon,ao=Yn.skuExtraParam,lo=void 0===ao?{}:ao,io=Yn.engIcon,so=void 0===io?{}:io,co=Yn.onlyOneSku,uo=Yn.mainViewType,mo=Yn.mainJumpUrl,go=Yn.detailId,fo=Yn.mallViewType,po=Yn.similarSalesExplain,vo=Yn.addToCartNewStyle,ho=void 0===vo?F.MV.NORMAL_STYLE:vo,_o=ae.cardTrackingInfo,yo=ae.HWRatio,wo=void 0===yo?1:yo,To=ae.activityType,So=ae.afterPriceShowPriority,Eo=ae.afterPriceTipText,bo=ae.salesTipWithTime,Co=ae.currentSkuId,ko=ae.adultGoods,xo=ae.allLocationDataDictMap,Io=ae.titleRich,No=ae.complianceInfo,Po=ae.afterStarShowPriority,Lo=(0,r._)({_oak_page_source:115},et),Mo=(0,A.lO)(),Wo=Mo.localInfo,Ao=Mo.userAgent,Do=Mo.isRTL,Ro=+((null==Wo?void 0:Wo.region)||0)===p.k6.sa,Go=(0,L.X2)(),Oo=(0,S.$)("bec-fe.bui-web-goods-list"),zo=Oo.t,Ho=Oo.i18n,Uo=(0,l.useRef)(null),Bo=(0,l.useRef)(null),jo=(Mt||{}).cancelRobotLimit,Fo=(0,v.IV)((null==Wo?void 0:Wo.region)||0)===p.DR.eu&&(null==je?void 0:je.cp173235)?je.cp173235:{},Zo=(0,r._)({webpEnable:ke},E.DJ.GOODS_MIDDLE||{},{quality:(null==Fo?void 0:Fo.normal)||E.DJ.GOODS_MIDDLE.quality}),qo=zn||{},Ko=qo.videoUrl,Yo=qo.imageUrl,Vo=(0,Oe.Z)({salesTipText:en,salesTipTextList:nn}),Jo=Vo.salesTipValue,Xo=Vo.useNewSalesTip,Qo=Jo,$o=Bn||{},er=$o.goodsActivitySalesRatioParam,tr=$o.activitySalesRatioContent,nr=Ie&&!!er&&er>=0&&er<=100,or=Gn||{},rr=or.brandTags,ar=or.promotionTags,lr=or.billboardTags,ir=or.topSpecTags,sr=or.goodsAttributesTags,cr=void 0===sr?[]:sr,ur=or.titleHeaderTags,dr=void 0===ur?[]:ur,mr=or.todayTags,gr=or.activityIconTags,fr=void 0===gr?[]:gr,pr=or.firstInstallmentTag,vr=void 0===pr?[]:pr,hr=or.specialOfferTag,_r=void 0===hr?[]:hr,yr=or.couponTag,wr=void 0===yr?[]:yr,Tr=or.mallTag,Sr=or.progressTags,Er=void 0===Sr?[]:Sr,br=or.totalDiscountAmountTag,Cr=void 0===br?[]:br,kr=or.shippingTags,xr=void 0===kr?[]:kr,Ir=or.bookAttributeTag,Nr=void 0===Ir?[]:Ir,Pr=or.mixBenefitTags,Lr=void 0===Pr?[]:Pr,Mr=or.adTags,Wr=void 0===Mr?[]:Mr,Ar=(0,f.Vj)({data:ae}).adImprReporter,Dr=null==(n=(null==Gn?void 0:Gn.goodsTags)||Mn)||null==(t=n.map)?void 0:t.call(n,(function(e,t){return(0,r._)({},e||{},{i:t})})),Rr=(null==On||null==(a=On[0])?void 0:a.promotionTag)?On[0]:null,Gr=(null==ar?void 0:ar.length)?ar[0]:null,Or=(0,l.useRef)(),zr=(0,l.useMemo)((function(){var e=((null==mr?void 0:mr[0])||{}).tagId;return{page_el_sn:239821,goods_id:Tn,price_pre_tag:String(void 0===e?"":e)}}),[]),Hr=!!Ao&&(0,D.Y7)(Ao),Ur=!!Ao&&!/macintosh|mac os x/i.test(Ao),Br=(0,l.useContext)(Ve.Z).disableLazy,jr=(0,l.useRef)(0),Fr=null==fr?void 0:fr[0],Zr=(null==je||null==(i=je.cp126457)?void 0:i.value)&&wo>1?ht:bn,qr=null==je||null==(u=je.cp145287)?void 0:u.value,Kr=(0,l.useMemo)((function(){return Fe&&($||0===$)?$>Fe:!Br}),[Br,Fe,$]),Yr=(0,m._)((0,l.useState)(!1),2),Vr=Yr[0],Jr=Yr[1],Xr=(0,l.useCallback)((function(){Cn||Jr(!0)}),[]),Qr=(0,l.useCallback)((function(){Cn||Jr(!1)}),[]),$r=(0,m._)((0,l.useState)(un),2),ea=$r[0],ta=$r[1],na=(0,m._)((0,l.useState)({}),2),oa=na[0],ra=na[1],aa=(null==oa?void 0:oa.specialOfferTag)||_r,la=(null==aa||null==(b=aa[0])?void 0:b.text)?1:void 0,ia=(0,l.useMemo)((function(){var e;if(!(null==Wr?void 0:Wr[0]))return{};var t=(((null==Wr?void 0:Wr[0])||{}).extMap||{}).ad;return{is_ad_tag:(null==Wr||null==(e=Wr[0])?void 0:e.text)?1:0,ad:t}}),[]),sa=(0,l.useMemo)((function(){var e,t,n;return(0,r._)({p_rec:xn,p_search:In,m_rec:Nn,m_trc:Pn,ad:Ln,idx:$,g_idx:$,goods_display_id:(0,h.x)(),show_currency:null==un?void 0:un.currency,show_price:(null==un?void 0:un.price)||((null==un||null==(e=un.priceText)?void 0:e.length)>1?100*+un.priceText[1]:""),show_sales:Qo&&Qo.length>0?Qo[0]:"",show_skc:0,unique_id:jn,gc_id:Fn,limit_disc_prc:la,gc_goods_list:null!=(n=null==Zn||null==(t=Zn.join)?void 0:t.call(Zn,","))?n:null,is_sold_date:bo?1:0,image_url_id:null==hn?void 0:hn.urlId,add_num:(null==ae?void 0:ae.cartAmount)||se||0},He,_o,ft,Jt||{})}),[]),ca=Y({tags:cr,grayConfig:je,localInfo:Wo}),ua=ca.needCarousel,da=ca.textList,ma=(null==da?void 0:da.length)?{is_roll:ua?1:0,date_text:(null==da?void 0:da.length)?(0,Xe.or)(da):""}:{},ga=(0,l.useMemo)((function(){return ce?(0,r._)({goods_id:Tn,detail_id:go},ma):(0,r._)({rec_goods_id:Tn,detail_id:go},ma)}),[go,Tn,ce]),fa=(0,r._)({},ga,sa,{goods_btn_idx:sa.idx,idx:void 0}),pa=(0,r._)({page_el_sn:200061,cart_scene:re,goods_id:Tn},fa),va=ie&&!de&&!Ce,ha=(0,m._)((0,l.useState)(!1),2),_a=ha[0],ya=ha[1],wa=(0,Re.Z)({goodsId:Tn,pageSn:te,scene:Re.x.SIMILAR,showNewSimilarDialog:!0,imgSearchUrl:$t}),Ta=(null==(C=wa.goodsList)?void 0:C.length)>0,Sa=(0,l.useCallback)((function(){null==_t||_t((function(t){return Ke(t,{goods_id:Tn,unique_id:jn},e,{onSkuPanelClear:!0})}))}),[]),Ea=(0,l.useMemo)((function(){var e=(null==hn?void 0:hn.url)||$t,t=(0,Xe.Ig)(ea,"",te,Tn,zt),n=Ye&&(0,Xe.Vq)(null==t?void 0:t.currency,null==Ho?void 0:Ho.resolvedLanguage);return{showGoodsImg:e,showPriceInfo:t,showLinkUrl:dn,showSeoLinkUrl:mn,showHoverImage:null==_n?void 0:_n.url,saleInfoEnableScale:n}}),[null==hn?void 0:hn.url,$t,ea,te,Tn,zt,Ye,null==Ho?void 0:Ho.resolvedLanguage,dn,mn,null==_n?void 0:_n.url]),ba=Ea.showGoodsImg,Ca=Ea.showPriceInfo,ka=Ea.showLinkUrl,xa=Ea.showSeoLinkUrl,Ia=Ea.showHoverImage,Na=Ia&&!Ko&&$e,Pa=(0,m._)((0,l.useState)(!Na),2),La=Pa[0],Ma=Pa[1],Wa=(0,c.t)((function(){Ma(!0)})),Aa=(0,l.useMemo)((function(){return ka&&xa?(0,be.YK)(xa&&0!==(null==xa?void 0:xa.indexOf("?"))?xa:ka):"/goods.html?_bg_fs=1&goods_id="+Tn}),[ka,xa,Tn]);(0,l.useEffect)((function(){Jr(Cn),(0,Je.KU)({pageSn:te})}),[te]);var Da=lt&&(null==lr?void 0:lr[0].pw)&&(null==lr?void 0:lr[0].ph),Ra=null==Ot?void 0:Ot(ae),Ga=(0,m._)((0,l.useState)(wr),2),Oa=Ga[0],za=Ga[1],Ha=!!(null==Oa||null==(k=Oa[0])?void 0:k.text),Ua=!Rr&&!!(null==Dr?void 0:Dr.length)&&(!Hr||(null==jo?void 0:jo.includes("goodsTags")))&&!Ra&&!Ha,Ba=(!Hr||(null==jo?void 0:jo.includes("brandTags")))&&!(null==Dr||null==(x=Dr.some)?void 0:x.call(Dr,(function(e){var t;return+(null!=(t=null==e?void 0:e.marketingTagType)?t:0)===Xe.oO.BRAND})))&&!(null==Tr?void 0:Tr.length),ja=!(null==Dr?void 0:Dr.some((function(e){var t;if(+(null!=(t=null==e?void 0:e.marketingTagType)?t:0)===Xe.oO.COMMENT){var n,o=(null==e||null==(n=e.extMap)?void 0:n.goodsScoreStarComment)&&(0,_.as)(e.extMap.goodsScoreStarComment,{});return o&&o.goods_score_text&&o.comment_num_tips}return!1})))&&((null==An?void 0:An.goodsScore)||Rn),Fa=(0,l.useRef)(!1),Za=!Rr&&!Ua&&"function"==typeof Pt,qa=(0,Pe.N)({width:null==so?void 0:so.width,height:null==so?void 0:so.height}).width,Ka=(null==No?void 0:No.iconInfo)?78:0,Ya=(0,l.useRef)(),Va=Ge({personalizationTagRef:Ya,efficiencyTagWidth:Ka||qa}).showPersonalization;(0,l.useEffect)((function(){mt>0&&_a||(0!==mt||_a)&&ya(mt>0)}),[mt]),(0,l.useEffect)((function(){ut>0&&Ta||(0!==ut||Ta)&&(0,d._)((function(){return(0,g.__generator)(this,(function(e){switch(e.label){case 0:return ut>0?(Go.stageStart("api"),[4,wa.loadData()]):[3,2];case 1:return e.sent(),Go.stageEnd("api"),[3,3];case 2:wa.clear(),e.label=3;case 3:return[2]}}))}))()}),[ut]),(0,l.useEffect)((function(){var e=jt||{},t=e.priceInfo,n=e.tagsInfo;t&&n&&((null==t?void 0:t.price)!==(null==ea?void 0:ea.price)&&ta(t),za(null==n?void 0:n.couponTag))}),[null==ea?void 0:ea.price,jt]);var Ja,Xa,Qa=(0,l.useCallback)((function(){Go.start({type:"click"}),_e&&_e({goods_id:Tn}),null==_t||_t((function(t){return Ke(t,{goods_id:Tn,unique_id:jn},e,{onSkuPanelClose:!0})}))}),[]),$a=(0,l.useCallback)((function(){ye&&ye({goods_id:Tn})}),[Tn,ye]),el=(null==je||null==(H=je.cp139870)?void 0:H.value)||0,tl=(0,ze.Z)({cartAmount:(null==ae?void 0:ae.cartAmount)||se||0,beforeClickCart:ge,imprEventData:fa,clickEventData:fa,clickEventDataMap:{200061:(0,r._)({},fa,ia,{is_ad_tag:void 0}),200284:fa},pageSn:te,params:(0,r._)({goods_id:Tn,_oak_spec_ids:Wn||"",gc_id:Fn,gc_goods_list:Zn},(0,y.D1)(qn||{}),Lo||{},(0,y.D1)(lo||{}),{_oak_multi_spec_goods_sold:Fa.current?1:void 0}),cartScene:re,showGoodsImg:ba,webpEnable:ke,userCloseCallback:Qa,callback:$a,skuOptions:tt,cartBtnRef:Bo,usePreloadSku:el}),nl=tl.cartAmount,ol=tl.onClick,rl=tl.preloadSku,al=(0,l.useCallback)((function(e,t){null==e||e.stopPropagation(),el&&1==+(null==e?void 0:e.buttons)&&rl(t)}),[rl,el]),ll=(0,l.useCallback)((function(e,t){ve&&ve({goods_id:Tn}),ol(e,t)}),[]),il=(0,l.useCallback)((function(e){he&&he({goods_id:Tn}),ol(e)}),[]),sl=(0,l.useCallback)((function(){var e;if(Uo.current){for(var t=[],n=(null==(e=Uo.current)?void 0:e.childNodes)||[],o=0;o<n.length;o++){var r,a;"1"===(null==(a=n[o])||null==(r=a.getAttribute)?void 0:r.call(a,"data-active"))&&t.push(n[o])}return(0,Xe.W5)(t,rr)}}),[]),cl=(0,l.useMemo)((function(){return(0,w.ru)((0,r._)({refer_page_el_sn:ne},me||{},{}),Aa)}),[Aa,me,ne]),ul=(0,l.useCallback)((function(){return cl}),[cl]),dl=(0,c.t)((0,d._)((function(e,t){var n,o,a,l,i,s,c,u;return(0,g.__generator)(this,(function(d){switch(d.label){case 0:return void 0===e&&(e={}),void 0===t&&(t=""),pe&&pe({goodsId:Tn,goodsName:Qt,linkUrl:dn,seoLinkUrl:mn,forwardUrl:cl,inPWA:(0,D.Gd)()?1:0}),fe&&fe({goods_id:Tn,onAddCartClick:function(){return il(e)}}),Vt?[2]:(m={goodsId:Tn,uniqueId:jn,privateListId:Zt},Ae["lastClickGoodsInfo"]=m,i=sl(),ba&&(0,G.p)(ba,ke),s=(0,r._)({},sa,ga,{page_el_sn:ne,tag_list:i,coupon_tagid_list:null==_r||null==(n=_r[0])?void 0:n.tagId,item_actv_type:To||0,show_priority:(0,pn.$y)(Or.current)},ia),(null==e||null==(l=e.target)||null==(a=l.className)||null==(o=a.indexOf)?void 0:o.call(a,"skcImg"))>-1&&(s.choose_skc=1),jr.current+=1,jr.current>=2&&(s.is_snd_clk=1),[4,(0,N.ax)(s).catch((function(){}))]);case 1:return d.sent(),(0,f.tc)((0,r._)({op:"click"},s),ae),c={},Ee&&(c={openTarget:"_blank"}),u=t||cl,Fa.current&&(u=(0,w.ru)({_oak_multi_spec_goods_sold:1},u)),u&&(0,De.jm)(u,c),[2]}var m}))}))),ml=(0,c.t)((function(e){var t,n;null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e);var o=l.createElement(z.p,{mainGooodsInfo:ae,pageSn:te,onClose:function(){(0,N.ax)({page_el_sn:222269}),(0,O.A)()},addCartTrackingInfo:fa,skuParams:Lo,skuExtraParam:lo,skuOptions:tt,initData:{goodsList:wa.goodsList,imgSearchBytes:wa.imgSearchBytes,rankColumFilter:wa.rankColumFilter,hasMore:wa.hasMore}});(0,O.$)({popupNode:o})})),gl=(0,l.useRef)(null),fl=(0,m._)((0,l.useState)(!1),2),pl=fl[0],vl=fl[1],hl=(0,l.useCallback)((function(){var e;Ko&&!pl&&(Ta||_a||null==gl||null==(e=gl.current)||e.onStart({cb:function(e){vl(e)}}))}),[Ko,pl,Ta,_a]),_l=(0,l.useCallback)((function(){var e;zn&&(null==gl||null==(e=gl.current)||e.onStop({cb:function(e){return vl(e)}}))}),[Ko,pl]),yl=(null==rr?void 0:rr.length)?rr[0]:{},wl=yl.text,Tl=void 0===wl?"":wl,Sl=yl.url,El=void 0===Sl?"https://aimg.kwcdn.com/upload_aimg/temu/f2cda539-4c39-4bce-afde-37ad4167120b.png":Sl,bl=yl.color,Cl=(0,r._)({},sa,ga,{page_el_sn:ne,get tag_list(){var e,t,n,o=(null==(e=Uo.current)?void 0:e.getAttribute("data-active"))||0,r=null==(n=Uo.current)||null==(t=n.childNodes)?void 0:t[o];return(0,Xe.W5)([r],rr)},coupon_tagid_list:null==_r||null==(B=_r[0])?void 0:B.tagId,item_actv_type:To||0,get show_priority(){var e=Or.current;return(0,pn.$y)(e)}},ia),kl=null==je||null==(j=je.cp116861)?void 0:j.value,xl=kl?ee.E:U.IH,Il="function"==typeof wt?wt(ae):null,Nl="function"==typeof Tt?Tt(ae):null,Pl=(Ja={},(0,o._)(Ja,fn.P.DEFAULT,Sn().hoverThemeDefault),(0,o._)(Ja,fn.P.SCALE,Sn().hoverThemeScale),(0,o._)(Ja,fn.P.NONE,Sn().noHover),Ja),Ll=at&&!Ce&&!de&&(null==An?void 0:An.avatar)&&(null==An?void 0:An.comment),Ml=Ll?s()(Sn().goodsWrapper,(0,o._)({},Sn().newStyle,!0)):s()(Sn().goodsWrapper,le,Pl[rt],(Xa={},(0,o._)(Xa,Sn().noHover,Vr),(0,o._)(Xa,Sn().showCategoryCard,_a),(0,o._)(Xa,Sn().newStyle,!0),Xa));(0,l.useEffect)((function(){var e=function(e){var t=((null==e?void 0:e.detail)||{}).data;(null==t?void 0:t.goodsId)===Tn&&ra(t)};return document.addEventListener(We,e),function(){document.removeEventListener(We,e)}}),[Tn]);var Wl=(0,v.IV)(null==Wo?void 0:Wo.region)===p.DR.eu?"cp187663":"cp187660",Al=(null==je||null==(Z=je[Wl])?void 0:Z.value)?"#777":void 0,Dl=uo===F.Iv.buyNow,Rl=Dl?zo("buyNow"):"",Gl=(0,c.t)((function(e){var t,n;if(null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e),Dl&&co&&Co&&mo){var o=(0,w.ru)({goods_list:JSON.stringify([{sku_id:Co,goods_number:1,goods_id:Tn}]),login_scene:F.sQ.buyNow,addr_scene:F.Up.buyNow},mo);W.ZP.openWindow((0,be.YK)(o),{target:"_blank",features:"noopener"})}else il(e)})),Ol=(0,c.t)((function(e){1===(null==e?void 0:e.button)&&qr&&e.preventDefault()})),zl=(0,c.t)((function(e){Ol(e),1===(null==e?void 0:e.button)&&qr&&dl(e)})),Hl=(0,l.useMemo)((function(){return(null==Fo?void 0:Fo.low)?{quality:null==Fo?void 0:Fo.low,resizeWidth:null==Fo?void 0:Fo.lowWidth}:{}}),[null==Fo?void 0:Fo.low,null==Fo?void 0:Fo.lowWidth]),Ul=ho&&va?kn[ho]:"",Bl=(0,M.F)({onClick:function(e){Ul&&Gl(e)},tabIndex:0,role:"button"}),jl=Ul?Bl:{};if(!Tn)return null;var Fl,Zl,ql="function"==typeof Ut?Ut($):Ut,Kl=(null==Er?void 0:Er[0])||{},Yl=Kl.endTime,Vl=Kl.text,Jl=Yl&&Vl,Xl=Ua?l.createElement(Et.Z,{data:Dr,className:s()(Sn().item),ref:Uo,supportTagCarousel:Xn,goodsId:Tn,openGoodsWithNewTab:Ee,commonTrackingInfo:ft,trackingGoodsInfo:ga,grayConfig:je,pageSn:te,showScoreNum:to,imageLazy:Kr}):null,Ql=l.createElement(U.IH,{className:s()(Sn().item,Sn().title),id:"goodName-"+Tn,title:Qt,fixed:!0,expandLeft:9,expandRight:9,expandTop:12},l.createElement(R.ZP,{className:Sn().nameWrap,seoUrl:xa,jumpUrl:ka,onClick:En,index:$,pageElSn:ne,url:ka,generateMouseDownHref:ul},l.createElement(bt.Z,{name:Qt,showDiscount:Be,discount:null==Ca?void 0:Ca.reductionTextStr,headerTag:nt,classConfig:null==pt?void 0:pt.goodsName,titleRow:$n,titleRich:Io,contentBefore:!!(null==dr?void 0:dr.length)&&l.createElement(we,{titleHeaderTags:dr,lazy:Kr})}))),$l=l.createElement("div",(0,r._)({className:s()(Sn().saleInfo,Sn().item,(Fl={},(0,o._)(Fl,Sn().noCart,!va),(0,o._)(Fl,Sn().isRtl,Do),(0,o._)(Fl,Sn().inActivityPriceBtnGray,(ue||!!ho)&&va),Fl),Ul)},jl,{onMouseEnter:function(e){Ul&&Xr()},onMouseLeave:function(e){Ul&&Qr()}}),l.createElement(Ct.Z,{price:(null==oa?void 0:oa.showPriceStr)||(null==Ca?void 0:Ca.showPriceStr),pricePrefix:(null==oa?void 0:oa.unitPrefix)||(null==Ca?void 0:Ca.unitPrefix),priceSuffix:(null==oa?void 0:oa.unitSuffix)||(null==Ca?void 0:Ca.unitSuffix),marketPrice:gt?null:null==Ca?void 0:Ca.showMarketPriceStr,splitMarketPriceText:null==Ca?void 0:Ca.splitMarketPriceText,discount:gt?null:null==Ca?void 0:Ca.reductionTextStr,priceColor:(null==oa?void 0:oa.priceColor)||(null==Ca?void 0:Ca.priceColor),sales:on,salesArray:Qo,showDiscount:!Be,noSalesTipText:Hn,classConfig:null==pt?void 0:pt.sale,isCrawler:Hr,isWindows:Ur,lazy:Kr,webpEnable:ke,className:Sn().saleInfoL,saleFireFlag:oo,useNewSalesTip:Xo,textBeforeMetrics:zr,marketPriceIcon:null==Ca?void 0:Ca.marketPriceIcon,activityIconInfo:Fr,splitPriceText:(null==oa?void 0:oa.splitPriceText)||(null==Ca?void 0:Ca.splitPriceText),unitPriceStr:null==Ca?void 0:Ca.unitPriceStr,afterPriceShowPriority:So,afterPriceTipText:Eo,grayConfig:je,ignoreGoodsSaleInlineScriptEffect:Bt,salesTipWithTime:bo,weakenCurrencyExp:Ro,activityType:To,goodsId:Tn,hiddenDiscountAfterPrice:!0,allLocationDataDictMap:xo,hasShowUnitSaleRef:Fa,todayTags:mr,currencyDiffFontSize:null==Ca?void 0:Ca.currencyDiffFontSize,salesIcon:ro,similarSalesExplain:po,afterPriceElesWrapRef:Or,showMarketPriceBeforePrice:vt,marketPriceStyleType:Vn}),va?l.createElement(P.ZP,{payload:pa},l.createElement("div",{ref:Bo,className:Sn().addCartWrap},l.createElement(kt.Z,{cartAmount:nl,addCart:Gl,className:Sn().saleInfoR,onMouseEnter:Xr,onMouseLeave:Qr,addCartText:Rl,onMouseDown:al,wrapClassName:Sn().cartWrap}))):null);return l.createElement(xt.Z,{className:Ml,onClick:dl,title:Qt,goodsId:Tn,noHover:Vr,type:Ll?fn.l.expand:fn.l.default,classConfig:null==pt?void 0:pt.goodsContainer,payload:Cl,reporter:Ar,tooltipDisabled:kl,onMouseUp:zl,onMouseDown:Ol,useRole:!1},l.createElement(xl,{id:"goodsImage-"+Tn,title:Qt,fixed:!0,hidden:pl,className:s()(Sn().item,"goods-image-container-external"),expandLeft:9,expandRight:9,expandTop:9},l.createElement(ct.Z,{HWRatio:wo,onMouseEnter:hl,onMouseLeave:_l},l.createElement("div",{className:s()(Sn().goodsImgContainer,(0,o._)({},Sn().multiImgFadeAniEnable,Na)),"aria-label":Qt,role:"button",tabIndex:0},l.createElement(Le.p,{data:ae,size:"page"===Yt?Le.m.l:Le.m.m,imageLazy:Kr}),!Gr&&(null==hn?void 0:hn.watermark)?l.createElement(E.ZP,{lazy:Kr,src:null==hn?void 0:hn.watermark,className:Sn().watermark,alt:vn||Qt,processParam:{resizeWidth:136,webpEnable:ke},"aria-hidden":!0}):l.createElement(l.Fragment,null),l.createElement("div",{className:s()(Sn().imageSliderWrap,(0,o._)({},Sn().hoverImageLoad,La))},ba?l.createElement(I,{rootMargin:"string"==typeof qe?qe:+qe+"px",rootRef:null},l.createElement(It.Z,{alt:vn||Qt,lazy:Kr,src:ba,className:s()(wo>1?Sn().goodsImgWithFullHeight:Sn().goodsImg,"goods-img-external"),wrapClassName:s()(Sn().goodsImageWrap,(0,o._)({},Sn().adultGoodsImg,ko)),processParam:Zo,emageProgress:ql,blurredCompressParams:Hl})):l.createElement("div",{className:Sn().noImgContainer}),Na?l.createElement(It.Z,{alt:vn||Qt,lazy:Kr,src:Ia,wrapperClass:s()(Sn().goodsImageWrap,(0,o._)({},Sn().adultGoodsImg,ko)),processParam:Zo,emageProgress:ql,className:s()(wo>1?Sn().goodsImgWithFullHeight:Sn().goodsImg),onLoad:Wa}):null),Ko?l.createElement(Nt.Z,{ref:gl,poster:Yo,videoURL:Ko,isCrawler:Hr}):null,Ta?l.createElement(l.Fragment,null,l.createElement(Zr,{tooltipProps:kl?void 0:{id:"GoodsSimilar-"+Tn,title:Qt,hidden:!0},mainGoodsId:Tn,title:zo("similar.title"),viewMoreText:zo("similar.viewMore"),goodsList:wa.goodsList,webpEnable:ke,onClose:Sa,onClickTitle:ml,onClickViewMoreBtn:ml,loggerParams:{main:205632,title:205652,viewMore:205633,goods:205634},isSmall:!!(0,Xe.FX)(null==Ca?void 0:Ca.currency),commonTrackingInfo:sa,trackingGoodsInfo:ga,pageSn:te,grayConfig:je}),l.createElement(Go.End,{name:"pc_buiGoodsListShowSimilarAfterSkuClose"})):null,_a&&!Ta?l.createElement(T.SV,null,l.createElement(At,{pageSn:te,goodsId:Tn,closeCategoryCard:Sa,lazy:Kr,webpEnable:ke,commonTrackingInfo:sa,trackingGoodsInfo:ga,grayConfig:je,optId:Un,isSmall:!!(0,Xe.FX)(null==Ca?void 0:Ca.currency)})):null),Il||null,Nl||null,!Il&&function(){var e=(null==ir?void 0:ir[0])||{},t=e.text,n=e.tagId,o=e.url,a=e.backColor,i=e.color;if(Da)return l.createElement(St,(0,r._)({data:lr},it||{}));var c=91011===n,u=1021===n;if(t){var d=c?{}:{backgroundColor:a,color:i},m=c?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAqFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7///////////////////////8OiAXtAAAAN3RSTlMA+wX894ELdN8g5cKqSzYQDse1j2cdFPLu056Yh25iW1U/L+nWzb+SfDstuIpRQykX4ti7slwmvpUHHAAAAYRJREFUKM99kul2gjAQhZMqqyAgiKIi4G5du877v1lvhqRH67GXHyT5cpnJJULLG4p/NPfd6jmtJZEs/yy+mMF5RBKPdcOGTuKn7YaFT+S+gafGYDs+dah75q7eibqhV1CXgrjd30MtScsFxlEC31yIK9bci6IZanXgHqiJA5elGskHiYeXPSUgSPb5TDBvPDWKr6DeRkOaCdYUw9W3PsvexYxpL9Z9ppi4DdNwabzLV2FkYeqowVdXUebhTTwlWW2XmnaovMuvsfkjHVDd1oOOWNbe6WP8Nc6vvYFase/5iaSmA64UaG40Q5RMo7bLQ6SBXR8X8KvWJB3YFaBUMjS5kasC3ilvjI0oNgFvg+urv+c3WM5W24gptMXevmqq4rsyDg0IOc9oRbTHO+8RBF7raykL5muik3CCwoQx4lb2UqITfGlDlKl2TJIT/YPAR8kkg3sn8jUAm3u5Pmf5G1+Km/jJ4/EsFkbVWJcL+GBOalVsNYqabPtR+Cj3XPYlHD6nHMIPSZA5l1zFDWgAAAAASUVORK5CYII=":o;return l.createElement("div",{className:s()(Sn().personalizationTag,u&&Sn().urgency),ref:Ya,style:(0,r._)({opacity:Va?1:0},d)},!!m&&l.createElement(E.ZP,{className:Sn().img,src:m,lazy:Kr,"arir-hidden":!0,alt:""}),l.createElement("div",{className:Sn().text},t))}return null}(),!Nl&&l.createElement("div",{className:Sn().bottomTips},l.createElement(oe,{data:e,imageLazy:Kr,imageProcessParam:Zo,onMouseDownCart:al,onQuickLookClick:ll,addCartTrackingInfo:(0,r._)({},fa,ia,{is_ad_tag:void 0}),classConfig:pt,grayConfig:je}),!Hr&&(Gr?l.createElement(wn,(0,r._)({},Gr||{},{webpEnable:ke,lazy:Kr,classConfig:null==pt?void 0:pt.watermark,serverTime:Wt,rowNum:Gt})):null)))),Ql,"function"==typeof Lt&&Lt(ae),!!(null==xr?void 0:xr[0])&&l.createElement(Se,{data:xr[0],className:Sn().item}),$l,!!(null==Ca||null==(q=Ca.marketPriceIcon)?void 0:q.showLowPrice)&&l.createElement(Dt.y,{data:{marketPriceIcon:null==Ca?void 0:Ca.marketPriceIcon,marketPriceStr:null==Ca?void 0:Ca.showMarketPriceStr,marketPriceType:null==Ca?void 0:Ca.marketPriceType},marketPriceStyle:Vn,className:Sn().item}),!!(null==Cr?void 0:Cr[0])&&l.createElement(Se,{data:Cr[0],className:Sn().item}),!!(null==aa||null==(K=aa[0])?void 0:K.text)&&l.createElement(Ft,{data:aa,goodsId:Tn,grayConfig:je,className:Sn().className}),!!(null==Nr?void 0:Nr.length)&&l.createElement(Kt,{data:Nr,className:s()(Sn().bookAttributeTag,Sn().className)}),nr?l.createElement(Xt,{ratio:er,salesPercentStr:tr,className:Sn().item,withCart:ie,processTrackingInfo:Me}):null,gt&&!yt?l.createElement(tn,{marketPrice:null==Ca?void 0:Ca.showMarketPriceStr,discount:null==Ca?void 0:Ca.reductionTextStr,className:Sn().item,prefix:zo("regularPricePrefix")}):null,gt&&yt?l.createElement(tn,{marketPrice:null==Ca?void 0:Ca.saveTextStr,discount:null==Ca?void 0:Ca.reductionTextStr,className:Sn().item}):null,Rr?l.createElement("div",{className:s()(Sn().item,Sn().promotionTagDiscount)},l.createElement("div",{className:Sn().promotionPrise},(Rr.promotionPrice||[]).join("")),l.createElement("div",{className:Sn().promotionText},l.createElement("span",{className:Sn().promotionTextScale},Rr.promotionTag))):null,!!(null==vr?void 0:vr.length)&&l.createElement(rn,{firstInstallmentTag:vr,lazy:Kr,className:Sn().payTag}),!!Jl&&l.createElement(an.D,{displayEndTime:Yl,displayEndTimePercent:+Vl,displayEndTimePercentImg:null==Er||null==(V=Er[0])?void 0:V.url,processStyle:{background:null==Er||null==(J=Er[0])?void 0:J.color},processWrapStyle:{background:null==Er||null==(X=Er[0])?void 0:X.backColor},countDownStyle:{color:null==Er||null==(Q=Er[0])?void 0:Q.color},className:Sn().processTag}),Xl,!!Ha&&l.createElement(Ne,{data:Oa,className:s()(Sn().couponTag,Sn().item)}),Ra,Za?l.createElement(l.Fragment,null,Pt(ae)):null,ja?l.createElement("div",{className:s()(Sn().rateAndSaleInfo,Sn().item)},l.createElement(ln.Z,{score:(null==An?void 0:An.goodsScore)||Rn,scoreText:null==An?void 0:An.goodsScoreText,numTips:(null==An?void 0:An.commentNumTips)||Dn,showScoreNum:to,scoreColor:null!=(Zl=null==An?void 0:An.scoreColor)?Zl:Al,grayConfig:je,hiddenComment:(null==An?void 0:An.hiddenComment)||!!(null==Po?void 0:Po.length),pageSn:te,size:"18px"}),!!(null==Po?void 0:Po.length)&&l.createElement(Ct.Z,{hiddenPrice:!0,sales:on,salesArray:Qo,noSalesTipText:Hn,isCrawler:Hr,isWindows:Ur,lazy:Kr,splitMarketPriceText:null==Ca?void 0:Ca.splitMarketPriceText,webpEnable:ke,saleFireFlag:oo,useNewSalesTip:Xo,afterPriceShowPriority:Po,afterPriceTipText:Eo,salesTipWithTime:bo,goodsId:Tn,allLocationDataDictMap:xo,hasShowUnitSaleRef:Fa,salesIcon:ro,similarSalesExplain:po,marketPriceStyleType:Vn})):null,Ba?l.createElement(sn.Z,{brandTagLogo:El,brandTagText:Tl,className:Sn().item,grayConfig:je,style:{color:bl},tags:rr}):null,!!(null==Tr?void 0:Tr.length)&&l.createElement(cn.F,{tags:Tr,goodsId:Tn,className:Sn().item,lazy:Kr,grayConfig:je,mallViewType:fo}),!!(null==Lr?void 0:Lr[0])&&l.createElement(Se,{data:Lr[0],className:Sn().mixBenefitTag}),!Ce&&de?l.createElement(xl,{id:Tn+"5",title:Qt,hidden:!0},l.createElement("div",null,l.createElement(de,(0,r._)({},e,{onMouseEnter:Xr,onMouseLeave:Qr,onAddCartClick:il})))):null,Ce?l.createElement(xl,{id:Tn+"6",title:Qt,hidden:!0},l.createElement(P.ZP,{payload:pa},l.createElement("div",{ref:Bo},l.createElement("div",{className:Sn().cartPlaceholder}),l.createElement("div",{className:Sn().cartBtn,onClick:il,onMouseEnter:Xr,onMouseLeave:Qr,role:"button",tabIndex:0},zo("addCart"))))):null,l.createElement(xt.H,null,l.createElement(gn,(0,r._)({},An,{className:Sn().comment,lazy:Kr,webpEnable:ke}))))})),In=n(19765),Nn=n(26346),Pn="hidden",Ln="visibilitychange";void 0!==document.webkitHidden&&(Pn="webkitHidden",Ln="webkitvisibilitychange");var Mn={serverTime:null,startTime:null,nowTime:null,curTime:function(){return Mn.serverTime&&Mn.startTime?(Mn.nowTime=Mn.serverTime+Date.now()-Mn.startTime,Mn.nowTime):(Mn.nowTime=Date.now(),Mn.nowTime)},initServerTime:(0,d._)((function(){var e;return(0,g.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,Nn.bp)()];case 1:return e=t.sent(),Mn.serverTime=e,Mn.startTime=Date.now(),Mn.nowTime=Date.now(),[2]}}))}))};"undefined"!=typeof window&&Mn.initServerTime();var Wn=n(16290),An=function(e){var t,n=e.max,o=void 0===n?59:n,r=e.parentDom,a=void 0===r?"":r,i=e.scaleEleRatioMap,s=void 0===i?{}:i;try{t=JSON.stringify(s)}catch(e){}return l.createElement("script",{dangerouslySetInnerHTML:{__html:'(function() {"use strict";var _excluded=["width","priceText","price","priceIcon","attrsMap"];function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _objectWithoutProperties(e,r){if(null==e)return{};var t,n=_objectWithoutPropertiesLoose(e,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)t=o[i],r.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t]);return n}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};var t,n={};for(t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,r):"Map"===(t="Object"===(t={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function _iterableToArrayLimit(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(c.push(n.value),c.length!==r);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(r,e){var t,n=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),n.push.apply(n,t)),n}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,r){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===r?String:Number)(e);t=t.call(e,r||"default");if("object"!=_typeof(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}var md=function(e){var t,r,n;try{var o,i={1:"saleTips",2:"marketPrice",3:"discount",4:"unitPrice",5:"noSaleTips",8:"salesTipwithTime",9:"unitSale",10:"savePrice",11:"gmvSaleText",12:"richSaleText",14:"specNumber",15:"installmentPayment"},a=["noSaleTips","saleTips","unitSale","salesTipwithTime","gmvSaleText","richSaleText"];if(e){for(var c=function(e){var r,n;return e&&0!==(null==e?void 0:e.length)?(n={},null!=e&&null!=(r=e.forEach)&&r.call(e,function(e){var r=(null==e?void 0:e.dataset)||{},t=r.type,r=r.ignore;(t||r)&&(r?n=_objectSpread(_objectSpread({},n),c(e.childNodes)):n[t]="saleTips"===t?Math.ceil((null==e?void 0:e.offsetWidth)||0):(null==e?void 0:e.offsetWidth)||0)}),n):{}},T=.84,w=.88,x=6,A=6,I=4,k="width: 0px;opacity:0;margin:0;pointer-events:none;",l=e.querySelector("[data-type=priceIcon]"),E=function(e,t,n){var o=0;return Object.entries(e).forEach(function(e){var e=_slicedToArray(e,2),r=e[0],e=e[1],r=(null==n||null==(r=n[r])?void 0:r.ratio)||t;o+=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e<=0||1<e?r:Math.ceil(r*e)}(r,e)}),o},M=function(e){var r,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return t<=0?k:1<=e?"margin-inline-start:".concat(o,"px"):(r=t*(1-e),"".concat(n&&t?"width:".concat(t,"px;"):"","-webkit-transform: scale(").concat(e,") translateZ(0);transform:scale(").concat(e,") translateZ(0);margin-inline-start: ").concat(o?"".concat(o,"px"):"",";margin-inline-end: ").concat(r?"".concat(-r,"px"):""))},W=function(e,n,o){var i={};return Object.entries(e).forEach(function(e){var e=_slicedToArray(e,2),r=e[0],e=e[1],t=(null==o||null==(t=o[r])?void 0:t.ratio)||n;i[r]=M(t,e,!0,I)}),i},L=function(e,r){return 1<=e?1:Math.max(e,r)},N=function(e,r){var t=0;return Object.values(e).forEach(function(e){t+=e?r:0}),t},u=function(e,r){var t,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=4<arguments.length?arguments[4]:void 0;if(!r||!e)return{};var a=e.price,a=void 0===a?0:a,c=e.priceIcon,c=void 0===c?0:c,l=e.priceText,l=void 0===l?0:l,u=e.frontMarketPrice,u=void 0===u?0:u;if(r-a<10)return{};for(var f,p,s,d,y,v,b,h,m,_,g={},j=0;j<(null==n?void 0:n.length);j++){for(var S=n.slice(j),P=void 0,O=0;O<=S.length;O++)if(P&&!e[P]||(f=_objectSpread(_objectSpread(_objectSpread({width:r},e),g),{},_defineProperty(_defineProperty({},P,0),"attrsMap",i)),d=(_=m=h=b=v=y=d=s=p=void 0)===(d=f.width)?0:d,y=void 0===(y=f.priceText)?0:y,v=f.price,b=f.priceIcon,h=f.attrsMap,f=_objectWithoutProperties(f,_excluded),m=N(f,x),t=!(_=Object.values(f).reduce(function(e){return e+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)},0))||(m=_+y+v+m+A-d)<=0?{}:(p=N(f,I),m=1-(m-N(f,x-I))/(_+y),_=L(m,T),s=E(f,_,h),f=W(f,_,h),T<=m||(h=L(_=1-(v+b+y+p+s-d)/v,w),f.price=M(h,v,!1),w<=_)?f:null)),P=S[O],t)break;if(g[n[j]]=0,t)break}if(o)return t;o=[c,l,u].filter(function(e){return Boolean(e)});if(!t&&1<o.length){o=r-a-c-l-u,a=u-.71*u;if(0<=o+a)return{frontMarketPrice:M((u+o-2)/u,u,!0)};if(0<=o+c)return{priceIcon:"width: 1px;opacity:0;margin:0;pointer-events:none;"};if(0<=o+c+a)return{frontMarketPrice:M((u+(o+c)-2)/u,u,!0),priceIcon:"width: 1px;opacity:0;margin:0;pointer-events:none;"};if(0<=o+l)return{priceText:k}}return t||{priceIcon:k,priceText:k}},f=function(e){var r,n;return e&&0!==(null==e?void 0:e.length)?(n={},null!=e&&null!=(r=e.forEach)&&r.call(e,function(e){var r=(null==e?void 0:e.dataset)||{},t=r.type,r=r.ignore;(t||r)&&(r?n=_objectSpread(_objectSpread({},n),f(e.childNodes)):n[t]={node:e})}),n):{}},p=null==e?void 0:e.childNodes,s=c(p),d=f(p),y={priceIcon:{ratio:null!=l&&null!=(n=l.dataset)&&n.ratio?+(null==l||null==(n=l.dataset)?void 0:n.ratio):void 0}},v=(null==(o=e.dataset)?void 0:o.priorityList).split(",").map(function(e){return i[e]}),b=Math.floor(e.offsetWidth),h=function(){var e=[],r={};a.forEach(function(e){r[e]=0});for(var t=v.length-1;0<=t;t--){var n=v[t];!!s[n]&&a.includes(n)&&e.push(_objectSpread(_objectSpread({},r),{},_defineProperty({},n,s[n])))}return e}(),m=v.length,_={},g=0;g<h.length-1;g++){var j,S=h[g]||{};if(j=u(_objectSpread(_objectSpread({},s),S),b,v,!0,y))break}if(!j)for(var P=0;P<m;P++){var O=v[m-1-P];if(j=u(_objectSpread(_objectSpread({},s),_),b,v,P!==m-1,y),_[O]=0,j)break}j&&(t=j,r=d,e.className+=" show",Object.entries(r).forEach(function(e){var e=_slicedToArray(e,2),r=e[0],e=e[1];t[r]&&null!=e&&e.node&&(e.node.style=t[r])}))}}catch(e){}};var max='+o+';var parentDom="'+a+'"?document.querySelector("'+a+'"):document;var doms=parentDom===null||parentDom===void 0?void 0:parentDom.querySelectorAll("[data-sales=true]");if((doms===null||doms===void 0?void 0:doms.length)>0){for(var i=0;i<doms.length;i++){if(i>max){break}md(doms[i], '+t+")}};})();"}})},Dn=(0,l.memo)(An),Rn=n(65530),Gn=n(73463),On=n.n(Gn),zn=(n(80978),n(11183),n(4256),n(25731),n(13445)),Hn=n(96169);var Un=function(e){document.dispatchEvent(new CustomEvent(We,{detail:{data:e}}))},Bn=100010043,jn=function(e){var t=e.goodsList,o=(0,l.useRef)(),r=(0,l.useRef)({}),a=(0,A.lO)().isCrawler;(0,l.useEffect)((function(){null==t||t.forEach((function(e){var t=(null==e?void 0:e.data)||{},n=t.goodsId,o=t.currentSkuId;r.current[n]=o}))}),[t]);var i=(0,l.useCallback)((0,d._)((function(e){var t,n,o,a,l;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return t=[],null==e||e.forEach((function(e){var n=r.current[e];n&&t.push({goods_id:+e,show_price_sku_id:n})})),t.length?[4,(0,Je.S6)({url:"/api/promotion/goods/discount/info/refresh/query",params:{goods_info_list:t}}).catch((function(e){var n=new Error("updateDiscountPriceError");(0,j.K2)(n,{errorMsg:null==e?void 0:e.message,goodsInfoList:t})}))]:[2];case 1:return n=i.sent(),a=(o=n||{}).cancelDisplayTagMap,l=o.goodsDiscountInfoDisplayTagMap,Object.keys(a||{}).forEach((function(e){var t=(a[e]||{}).goodsPrice,n=(0,Xe.Ig)(t),o=null==n?void 0:n.splitPriceText;Un({goodsId:+e,hasSpecialOffer:!1,showPriceStr:null==n?void 0:n.showPriceStr,priceColor:null==n?void 0:n.priceColor,unitPrefix:null==n?void 0:n.unitPrefix,unitSuffix:null==n?void 0:n.unitSuffix,specialOfferTag:[{endTime:0,text:""}],splitPriceText:(null==o?void 0:o.length)?o:void 0})})),Object.keys(l||{}).forEach((function(e){var t,n=(null==(t=l[e])?void 0:t[0])||{},o=n.afterDiscountPrice,r=n.endTime,a=n.discountInfoTag,i=n.tagType,s=n.tagStyle,c=n.tagIcon,u=(0,Xe.Ig)(o),d=null==u?void 0:u.splitPriceText,m={goodsId:+e,hasSpecialOffer:!0,showPriceStr:null==u?void 0:u.showPriceStr,priceColor:null==u?void 0:u.priceColor,unitPrefix:null==u?void 0:u.unitPrefix,unitSuffix:null==u?void 0:u.unitSuffix,specialOfferTag:[{endTime:r,text:null==a?void 0:a.tagStr,tagType:i,color:null==a?void 0:a.tagColor,extMap:{tagStyle:s,tagEndStr:null==a?void 0:a.tagEndStr,tagEndStrColor:null==a?void 0:a.tagEndStrColor,tagIcon:c}}],splitPriceText:(null==d?void 0:d.length)?d:void 0};Un(m)})),[2]}}))})),[]);return(0,l.useEffect)((function(){if(!a&&!window.__TITAN_BOT__){var e=(0,d._)((function(){var e,t,r,a,l;return(0,g.__generator)(this,(function(s){switch(s.label){case 0:return[4,Promise.all([n.e(7050),n.e(4881)]).then(n.bind(n,47050))];case 1:return e=s.sent(),r=(t=e||{}).Titan,a=t.Unicast,r.usePlugin(a),l=location.host,o.current=new r({url:"wss://"+l,appId:10001,projectName:"bui-web-goods-list",bizType:Bn}),o.current.on("message",(function(e){var t=e||{},n=t.actionId,o=t.payload;if(+n===Bn){var r=(o||{}).goods_id_list;(null==r?void 0:r.length)&&i(r)}})),o.current.connect(),[2]}}))}));(0,zn.J)((0,Hn.createDefaultAxios)()).then((function(t){t&&e()}))}}),[a,i]),(0,l.useEffect)((function(){var e=[],t=(0,d._)((function(t){var n,o;return(0,g.__generator)(this,(function(r){switch(r.label){case 0:return(n=((null==t?void 0:t.detail)||{}).goodsId)&&e.push(n),[4,(a=1e3,new Promise((function(e){setTimeout(e,a)})))];case 1:for(r.sent();e.length;)(null==(o=e.splice(0,5))?void 0:o.length)&&i(o);return[2]}var a}))}));return document.addEventListener(Me,t),function(){document.removeEventListener(Me,t)}}),[i]),null},Fn=function(e){var t,n=e.datasource,o=e.pageSn,r=e.apiScene,a=e.grayConfig,i=e.setDatasource,s=(0,l.useRef)(),u=!!(null==a||null==(t=a.cp99510)?void 0:t.openCouponRefresh)&&["home","search","goods_detail_like","shopping_cart"].includes(r);(0,l.useEffect)((function(){u&&((0,Je.KU)(),s.current=(0,zn.J)(Je.be).catch((function(){return!1})))}),[u]);var m=(0,c.t)((0,d._)((function(e){var t,r,a,l,c,d,m,f,p,v,_,y,w,T,S,E,b,C,k,x;return(0,g.__generator)(this,(function(g){switch(g.label){case 0:return t=e.reduceGoodsIdList,r=e.addGoodsIdList,a=e.cartGoodsNumMap,u?[4,s.current]:[2];case 1:if(!g.sent())return[2];g.label=2;case 2:for(g.trys.push([2,4,,5]),d=[],m=0;m<(null==n?void 0:n.length);m++)f=null==n?void 0:n[m],p=f.data,v=f.refreshInfo,y=(_=p||{}).goodsId,w=_.currentSkuId,T=_.goodsListPromotionType,y&&(S=0,(null==r?void 0:r.includes(+y))&&(S=1),(null==t?void 0:t.includes(+y))&&(S=2),d.push({goods_id:y,sku_id:w,last_goods_list_promotion_type:v?v.goodsListPromotionType:T,sku_change_status:S,cart_amount:null==a?void 0:a[y]}));return(null==d?void 0:d.length)?(E=d.slice(0,200),b={listId:(0,h.x)(32),offset:0,pageSize:null==E?void 0:E.length,pageSn:o,scene:"refresh_search",goods_sku_pairs:E},[4,(0,Je.S6)({url:(0,Je.mx)("api/poppy/v1/search",b),params:b,config:{useAntiToken:!0}})]):[2];case 3:return C=g.sent(),(null==(k=null==C||null==(c=C.result)||null==(l=c.data)?void 0:l.goodsList)?void 0:k.length)?(k.forEach((function(e){var t=e||{},o=t.goodsId,r=t.priceInfo,a=t.tagsInfo,l=t.goodsListPromotionType,i=null==n?void 0:n.find((function(e){var t;return(null==e||null==(t=e.data)?void 0:t.goodsId)===o}));i&&(i.refreshInfo={priceInfo:r,tagsInfo:a,goodsListPromotionType:l})})),i((0,re._)(n)),[3,5]):[2];case 4:return x=g.sent(),(0,j.K2)(x),[3,5];case 5:return[2]}}))})));!function(e){var t=e.updateCb,n=(0,l.useRef)({});(0,l.useEffect)((function(){var e=(0,He.Kd)((function(e){try{var o=(e||{}).cartGoodsNumMap;if(!o)return;for(var r=[],a=[],l=Object.keys(n.current||{}),i=Object.keys(o||{}),s=Array.from(new Set((0,re._)(l).concat((0,re._)(i)))),c=s.length,u=0;u<c;u++){var d=s[u],m=o[d]||0,g=n.current[d]||0;m!==g&&(m>g?a.push(+d):r.push(+d))}t({reduceGoodsIdList:r,addGoodsIdList:a,cartGoodsNumMap:o}),n.current=o}catch(e){(0,j.K2)(e,{errorModule:"useCartGoodsUpdateDetailHook"})}}));return function(){e()}}),[t])}({updateCb:m})},Zn=function(e,t,n,o){if(void 0===o&&(o=!0),!e)return!1;var r=e.priceInfo,a=e.image,l=e.thumbUrl,i=e.goodsId,s=e.itemType,c=void 0===s?0:s,u=r||{},d=u.priceText,m=void 0===d?[]:d,g=u.marketPriceText,f=u.splitPriceText,p=void 0===f?[]:f,v=u.priceStr,h=u.price,_=!(null==m?void 0:m.length)&&!(null==p?void 0:p.length)&&!(null==g?void 0:g.length),y=!!((null==a?void 0:a.url)||l||"")&&!_&&0===c;if(!y&&(o&&0===c)){var w=new Error("pageSn:"+(t||"")+", bui-web-goods-list: priceInfo is invalid");(0,j.K2)(w,{goodsId:i,listId:n,priceText:JSON.stringify(m||[]),priceStr:v,price:h,itemType:c})}return y},qn=function(e){var t=(0,l.memo)((function(t){var n=t.defaultCartGoodsNumMap,o=t.apiScene,a=t.pageSn,i=t.grayConfig,s=t.renderItem,c=t.listId,u=(0,l.useRef)(!1),d=(0,l.useRef)(n||{}),g=(0,l.useRef)([]),f=(0,l.useMemo)((function(){return(0,h.x)(10)}),[]),p=(0,l.useCallback)((function(e){var t=!1,n=d.current,o=e.map((function(e){var o,a,l=(null==e||null==(o=e.data)?void 0:o.goodsId)||(null==e?void 0:e.goodsId)||null,i=(null==(a=g.current)?void 0:a.find((function(e){var t;return(null==e||null==(t=e.data)?void 0:t.goodsId)===l})))||{};if(l){var s;if("number"!=typeof e.cartAmount)return t=!0,(0,r._)({},i,e,{cartAmount:n[l]||(null==e||null==(s=e.data)?void 0:s.cartAmount)||0});var c=n[l]||0;if((null==e?void 0:e.cartAmount)!==c)return t=!0,(0,r._)({},i,e,{cartAmount:c})}return e}));return t?o:e}),[]),v=(0,l.useMemo)((function(){var e;return!!(null==(e=t.datasource)?void 0:e.length)&&(u.current||!!t.datasource.find((function(e){var t,n;return!!(null==(n=e.data)||null==(t=n.extendFields)?void 0:t.addToCartNewStyle)})))}),[t.datasource]);u.current=v;var _=(0,m._)((0,l.useState)((function(){var e=p(t.datasource||[]);return s?e:null==e?void 0:e.filter((function(e){return Zn(e.data,a,c)}))})),2),y=_[0],w=_[1];return Ye({setDatasource:w,props:(0,r._)({},t,{privateListId:f})}),(0,l.useEffect)((function(){var e=p(t.datasource||[]),n=s?e:null==e?void 0:e.filter((function(e){return Zn(e.data,a,c)}));w(n)}),[p,s,c,a,t.datasource,w]),(0,l.useEffect)((function(){g.current=y}),[y]),jn({goodsList:y}),Fn({datasource:y,apiScene:o,pageSn:a,grayConfig:i,setDatasource:w}),l.createElement(e,(0,r._)({},t,{addToCartNewStyleEnable:v,datasource:y,setDatasource:w,privateListId:f}))})),n=e.displayName||e.name;return t.displayName="withCartAmount("+n+")",On()(t,e),t},Kn=n(79709),Yn=n.n(Kn),Vn=qn((0,l.memo)((function(e){var t,n,i,d=e.pageSn,g=e.pageElSn,f=e.isMainGoods,p=void 0!==f&&f,v=e.cartScene,h=e.rowNum,_=e.loadMode,y=e.className,w=void 0===y?"":y,T=e.pageGoodsNum,S=void 0===T?20:T,E=e.title,b=e.datasource,C=e.setDatasource,k=e.canAddToCart,x=void 0===k||k,I=e.CustomGoodsBtn,N=e.useCartBtn,P=e.forwardGoodsParams,L=e.openGoodsWithNewTab,M=e.addToCartNewStyleEnable,W=e.openRecommendWordsWithNewTab,A=e.beforeClickCart,D=e.reportClickLog,R=e.onGoodsClick,G=e.onQuickLookClick,O=e.onAddCartClick,z=e.onSkuPanelClose,H=e.onSkuPanelSuccess,B=e.hasMore,j=e.language,F=e.isShowSkc,Z=e.isShowSimilar,q=e.isBackAutoShowSimilar,K=e.isShowBillboardTip,Y=e.billboardTipProps,V=e.isBackAutoShowCategoryCard,J=e.webpEnable,X=e.grayConfig,Q=e.cardWidth,$=e.useGlobalAutoFitListClassName,ee=void 0===$||$,te=e.listClassName,ne=e.goodsCardClassName,oe=e.quickLook,re=e.startLazyIndex,ae=e.imageRootMargin,le=e.showDiscountOnName,ie=e.isOpenSaleInfoScale,se=void 0===ie||ie,ce=e.saleInfoInlineScriptConfig,ue=e.isShowHoverImage,de=void 0===ue||ue,me=e.skuParams,ge=void 0===me?{}:me,fe=e.skuOptions,pe=void 0===fe?{}:fe,ve=e.goodsNameTag,he=e.hoverTheme,_e=void 0===he?Rn.P.DEFAULT:he,ye=e.isShowComment,we=void 0===ye||ye,Te=e.isShowProcess,Se=e.processTrackingInfo,Ee=void 0===Se?{}:Se,be=e.commonGoodsTrackingInfo,Ce=void 0===be?{}:be,ke=e.skcTrackingInfo,xe=void 0===ke?{}:ke,Ie=e.showMarketInfo,Ne=e.classConfig,Pe=e.showSavePrice,Le=e.renderTopTips,Me=e.renderBottomTips,We=e.renderTags,Ae=e.renderTagsBeforePrice,De=e.userAgent,Re=e.goodsConfig,Ge=(e.serverTime,e.showMarketPriceBeforePrice),Oe=e.renderCustomizeTags,ze=e.listId,He=e.emageProgress,Ue=e.hiddenTooltipItem,Be=e.ignoreGoodsSaleInlineScriptEffect,je=e.getItemProps,Fe=e.privateListId,Ze=e.type,qe=(0,a._)(e,["pageSn","pageElSn","isMainGoods","cartScene","rowNum","loadMode","className","pageGoodsNum","title","datasource","setDatasource","canAddToCart","CustomGoodsBtn","useCartBtn","forwardGoodsParams","openGoodsWithNewTab","addToCartNewStyleEnable","openRecommendWordsWithNewTab","beforeClickCart","reportClickLog","onGoodsClick","onQuickLookClick","onAddCartClick","onSkuPanelClose","onSkuPanelSuccess","hasMore","language","isShowSkc","isShowSimilar","isBackAutoShowSimilar","isShowBillboardTip","billboardTipProps","isBackAutoShowCategoryCard","webpEnable","grayConfig","cardWidth","useGlobalAutoFitListClassName","listClassName","goodsCardClassName","quickLook","startLazyIndex","imageRootMargin","showDiscountOnName","isOpenSaleInfoScale","saleInfoInlineScriptConfig","isShowHoverImage","skuParams","skuOptions","goodsNameTag","hoverTheme","isShowComment","isShowProcess","processTrackingInfo","commonGoodsTrackingInfo","skcTrackingInfo","showMarketInfo","classConfig","showSavePrice","renderTopTips","renderBottomTips","renderTags","renderTagsBeforePrice","userAgent","goodsConfig","serverTime","showMarketPriceBeforePrice","renderCustomizeTags","listId","emageProgress","hiddenTooltipItem","ignoreGoodsSaleInlineScriptEffect","getItemProps","privateListId","type"]);i=Date.now();var Ke,Ye,Ve,Je,Xe,Qe,$e,et,tt,nt,ot,rt,at,lt,it,st=(0,c.t)((function(e,t){return null==je?void 0:je(e,t)})),ct=(0,l.useCallback)((function(e){var t=e.index,n=e.data,o=n.data,s=n.refreshInfo,c=(0,a._)(n,["data","refreshInfo"]),u=st(o,t);return l.createElement(xn,(0,r._)({pageSn:d,pageElSn:g,isMainGoods:p,cartScene:v,key:o.goodsId},c,{index:t,canAddToCart:x,goodsInfo:o,skuParams:ge,skuOptions:pe,CustomGoodsBtn:I,useCartBtn:N,language:j,addToCartNewStyleEnable:M,showDiscountOnName:le,forwardGoodsParams:P,openGoodsWithNewTab:L,showMarketPriceBeforePrice:Ge,openRecommendWordsWithNewTab:W,beforeClickCart:A,onGoodsClick:R,reportClickLog:D,onQuickLookClick:G,onAddCartClick:O,onSkuPanelClose:z,onSkuPanelSuccess:H,webpEnable:J,isShowComment:we,isShowSkc:F,isShowSimilar:Z,isShowBillboardTip:K,billboardTipProps:Y,grayConfig:X,quickLook:oe,startLazyIndex:re,imageRootMargin:ae,isBackAutoShowSimilar:q,isOpenSaleInfoScale:se,isShowHoverImage:de,isShowProcess:Te,processTrackingInfo:Ee,goodsNameTag:ve,hoverTheme:_e,isBackAutoShowCategoryCard:V,commonGoodsTrackingInfo:Ce,skcTrackingInfo:xe,showMarketInfo:Ie,classConfig:Ne,setDatasource:C,showSavePrice:Pe,renderTopTips:Le,renderBottomTips:Me,renderTags:We,renderTagsBeforePrice:Ae,userAgent:De,goodsConfig:Re,serverTime:i,rowNum:h,renderCustomizeTags:Oe,listId:ze,emageProgress:He,privateListId:Fe,ignoreGoodsSaleInlineScriptEffect:Be,refreshInfo:s,type:Ze},u))}),[v,de,He,Fe,N,I,x,st]),ut=(null==b?void 0:b.length)||0,dt=(0,l.useMemo)((function(){return B&&h&&ut>h?ut%h:0}),[B,ut,h]),mt=(Je=(Ye={accuracy:1e3}).accuracy,Xe=void 0===Je?1e3:Je,Qe=Ye.startCount,$e=void 0===Qe||Qe,et=(0,m._)((0,l.useState)(Date.now()),2),tt=et[0],nt=et[1],ot=(0,m._)((0,l.useState)(!1),2),rt=ot[0],at=ot[1],lt=(0,l.useCallback)((function(){!rt&&$e&&(Ve=setInterval((function(){if(!document[Pn]||"hidden"!==document.visibilityState){var e=Mn.curTime();nt(e)}}),Xe),at(!0))}),[rt,Xe]),it=function(){document[Pn]&&"visible"!==document.visibilityState?(window.clearInterval(Ve),at(!1)):lt()},(0,l.useEffect)((function(){return!rt&&$e&&(lt(),document.addEventListener(Ln,it)),function(){Ve&&window.clearInterval(Ve),$e&&document.removeEventListener(Ln,it)}}),[Xe,$e]),tt);Ke=_&&"manual"!==_||!h?b:dt?b.slice(0,ut-dt):b;var gt=(null==ce?void 0:ce.jsClassName)||"js-goods-list",ft=(null==X||null==(t=X.cp116861)?void 0:t.value)?1200:100,pt=(null==X||null==(n=X.cp116861)?void 0:n.value)?500:0;return l.createElement(U.u,{className:s()(w,(0,o._)({},gt,!0)),hidden:Ue,delayShow:ft,noDelayShowInterval:pt},E?l.createElement("div",{className:Yn().title},E):null,B&&!(null==Ke?void 0:Ke.length)?l.createElement("div",{className:s()(Yn().autoFitList,te,{autoFitList:ee}),role:"region"},new Array(S).fill(0).map((function(e,t){return l.createElement("div",{className:s()(Yn().cardWrap,ne),style:{width:Q,padding:9},key:t},l.createElement(Wn.Z,{useCartBtn:N}))}))):l.createElement(u.JB.Provider,{value:{nowTime:mt}},l.createElement(In.Z,(0,r._)({wrapperClass:s()(Yn().autoFitList,te,{autoFitList:ee}),goodsCardClassName:ne,itemKey:"goodsId",renderItem:ct,ssrRenderLength:S,datasource:Ke,hasMore:B,loadMode:_,itemWidth:Q,useItemWrap:!(null==qe?void 0:qe.renderItem)},qe,{pageSn:d,listId:ze,grayConfig:X,useCartBtn:N}))),l.createElement(Dn,{parentDom:"."+gt,max:(null==ce?void 0:ce.max)||60}))})))},13384:function(e,t,n){"use strict";n.d(t,{Z:function(){return _},x:function(){return p}});var o=n(81862),r=n(94761),a=n(89290),l=n(8226),i=n(50853),s=(n(69460),n(96526)),c=n(16501),u=n(77774),d=n(3419),m=n(60661),g=n(52321),f=n(29458),p=function(e){return e.SIMILAR="sku_close_similar",e.BOUGHT_TOGETHER="mall_bought_together",e.BOUGHT_TOGETHER_LANDING="mall_bought_together_landing",e.RECOMMEND_WORDS_SKU_CLOSE="sku_close_recommend_words",e.RECOMMEND_WORDS_GT_RETURN="gd_return_recommend_words",e.ADD_CART_SUCCESS_RELEATED="shopping_cart_add_show_floating_layer",e}({}),v={goodsList:[],hasMore:!0},h={goodsList:[],hasMore:!1};function _(e){var t=e.listId,n=e.pageSn,p=e.goodsId,_=e.pageSize,y=void 0===_?10:_,w=e.scene,T=e.pageElSn,S=void 0===T?205632:T,E=e.source,b=e.topGoods,C=e.showNewSimilarDialog,k=e.imgSearchUrl,x=(0,s.useRef)([]),I=(0,a._)((0,s.useState)(v),2),N=I[0],P=I[1],L=(0,o._)((function(e){var o,r,a,l,s,v,_,T,x,I,N,P,L,M,W,A;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return o=(e||{}).offset,r=void 0===o?0:o,a=w||e.scene,l=g.ce.MALL_HOME_RECOMMEND,"sku_close_similar"===a&&(l=g.ce.GOODS_DETAIL),"sku_close_similar"===a&&C?k?(v=(0,c.FT)(k,d.DJ.GOODS_MIDDLE),[4,(0,f.y)(v)]):[3,2]:[3,4];case 1:if(!(s=i.sent()))return[2,h];i.label=2;case 2:return[4,(0,m.Q8)({pageElSn:222268,pageSn:n,offset:0,listId:(0,u.x)(32),imgSearchBytes:s})];case 3:return _=i.sent(),x=(T=_||{}).goodsList,I=T.hasMore,N=T.rankColumFilter,(null==x?void 0:x.length)?[2,{goodsList:x,hasMore:I,imgSearchBytes:s,rankColumFilter:N}]:[2,h];case 4:return[4,(0,g.$h)(l,{pageSn:n,mainGoodsIds:[p],listId:t||(0,u.x)(6),offset:r,pageSize:y,scene:a,source:E,pageElSn:S,goodsId:p,topGoods:0===r?b:void 0})];case 5:return(P=i.sent())&&P.success&&P.result?(L=P.result,M=L.data,W=L.hasMore,[2,{goodsList:null!=(A=M.goodsList)?A:[],hasMore:W}]):[2,h]}}))})),M=(0,o._)((function(e){var t,n,o,r,a,l,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(null==(t=x.current)?void 0:t.length)>0?[2]:[4,L(e)];case 1:return n=i.sent(),o=n.goodsList,r=void 0===o?[]:o,a=n.hasMore,l=n.imgSearchBytes,s=n.rankColumFilter,x.current=r,P({goodsList:x.current,hasMore:a,imgSearchBytes:l,rankColumFilter:s}),[2]}}))})),W=(0,o._)((function(){var e,t,n,o,r;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,L({offset:null==(e=x.current)?void 0:e.length})];case 1:return t=a.sent(),n=t.goodsList,o=void 0===n?[]:n,r=t.hasMore,x.current=(0,l._)(x.current).concat((0,l._)(o)),P({goodsList:x.current,hasMore:r}),[2]}}))}));return(0,r._)({},N,{loadData:M,loadMore:W,clear:function(){return 0!==x.current.length&&(x.current=[],P(v),!0)}})}},4657:function(e,t,n){"use strict";n.d(t,{H:function(){return y}});var o=n(87612),r=n(94761),a=n(12330),l=n(89290),i=n(96526),s=n(72779),c=n.n(s),u=n(54814),d=n(13090),m=n(95482),g=n(4180),f=n(64391),p=n(41363),v=n.n(p),h=function(e){var t=e.className,n=e.noHover,o=e.payload,a=e.reporter,l=e.onClick,s=e.goodsId,f=e.title,p=e.classConfig,h=e.children,_=e.tooltipDisabled,y=e.onMouseUp,w=e.onMouseDown,T=e.innerStyle,S=e.useRole,E=void 0===S||S,b=(0,d.F)({onClick:l}),C=_?g.E:m.IH,k=E?{role:"button",tabIndex:0,"aria-label":f}:{role:null,tabIndex:null};return i.createElement(u.ZP,{payload:o,reporter:a},i.createElement("div",(0,r._)({className:c()(v().defaultContainer,t,null==p?void 0:p.goodsItemWrap)},b,{onMouseUp:y,onMouseDown:w},k),i.createElement(C,{className:c()(v().inner,null==p?void 0:p.goodsItem),id:"goodContainer-"+s,title:f,hidden:n,style:T},h)))},_=function(e){var t,n=e.className,a=e.noHover,s=e.payload,g=e.reporter,f=e.onClick,p=e.goodsId,h=e.title,_=e.children,y=e.classConfig,w=e.onMouseUp,T=e.onMouseDown,S=e.useRole,E=void 0===S||S,b=(0,l._)((0,i.useState)(),2),C=b[0],k=b[1],x=(0,i.useRef)(null),I=(0,d.F)({onClick:f}),N=E?{role:"button",tabIndex:0,"aria-label":h}:{role:null,tabIndex:null},P=(0,i.useCallback)((function(){x.current&&k({height:x.current.offsetHeight+"px"})}),[]);return(0,i.useEffect)((function(){return P(),window.addEventListener("resize",P),function(){window.removeEventListener("resize",P)}}),[P]),i.createElement(u.ZP,{payload:s,reporter:g},i.createElement("div",(0,r._)({className:c()(v().defaultContainer,n,(t={},(0,o._)(t,v().expandContainer,!!C),(0,o._)(t,v().noHover,a),t),null==y?void 0:y.goodsItemWrap),"aria-label":h},I,{onMouseUp:w,onMouseDown:T},N),i.createElement("div",{style:C,className:v().placeholder}),i.createElement("div",(0,r._)({className:v().inner},(0,m.pk)({id:"goodContainer-"+p,title:h,fixed:!1,hidden:a}),{ref:x}),_)))},y=function(e){var t=e.children;return i.createElement("div",{className:v().expandContent},t)},w=function(e){var t=e.type,n=(0,a._)(e,["type"]);return t===f.l.expand?i.createElement(_,n):i.createElement(h,n)};t.Z=(0,i.memo)(w)},64391:function(e,t,n){"use strict";n.d(t,{P:function(){return r},l:function(){return o}});var o=function(e){return e.default="default",e.expand="expand",e}({}),r=function(e){return e.DEFAULT="DEFAULT",e.SCALE="SCALE",e.NONE="NONE",e}({})},59454:function(e,t,n){"use strict";var o=n(81862),r=n(87612),a=n(94761),l=n(89290),i=n(50853),s=n(96526),c=n(72779),u=n.n(c),d=n(34161),m=n(16501),g=n(49774),f=n.n(g),p=(0,s.forwardRef)((function(e,t){var n=e.videoURL,c=e.poster,g=e.className,p=e.isCrawler,v=e.style,h=(0,s.useRef)(null),_=(0,s.useRef)(),y=(0,s.useRef)(),w=(0,l._)((0,s.useState)({show:p,isPlayVideo:!1}),2),T=w[0],S=w[1],E=(0,s.useCallback)((function(e){var t=e.restart,o=void 0===t||t,r=e.cb;n&&!T.isPlayVideo&&(!T.show&&S((function(e){return(0,a._)({},e,{show:!0})})),_.current=setTimeout((function(){(null==h?void 0:h.current)&&(r&&r(!0),S((function(e){return(0,a._)({},e,{isPlayVideo:!0})})),o&&(h.current.currentTime=0),y.current=h.current.play())}),500))}),[n,T.isPlayVideo]),b=(0,s.useCallback)((0,o._)((function(e){var t;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return t=e.cb,n&&(null==h?void 0:h.current)?(clearTimeout(_.current),t&&t(!1),S((function(e){return(0,a._)({},e,{isPlayVideo:!1})})),[4,y.current]):[2];case 1:return o.sent(),h.current.pause(),[2]}}))})),[n]);(0,s.useEffect)((function(){return function(){(null==_?void 0:_.current)&&clearTimeout(null==_?void 0:_.current)}}),[]),(0,s.useImperativeHandle)(t,(function(){return{onStart:E,onStop:b}}),[]);var C=(0,s.useMemo)((function(){return c?(0,d.Hm)((0,m.FT)(c,{webpEnable:!0,resizeWidth:500,quality:60})):""}),[c]);return(0,s.useEffect)((function(){return function(){(null==_?void 0:_.current)&&clearTimeout(null==_?void 0:_.current)}}),[]),n&&c&&T.show?s.createElement("video",{style:v,src:(0,d.Hm)(n),poster:C,ref:h,muted:!0,loop:!0,className:u()(f().video,g,(0,r._)({},f().videoPlay,T.isPlayVideo))}):null}));t.Z=(0,s.memo)(p)},45491:function(e,t,n){"use strict";n.d(t,{ZP:function(){return M}});var o=n(94761),r=n(12330),a=n(89290),l=(n(67904),n(87246),n(96526)),i=n(34161),s=n(33823),c=n(8963),u=n(61232),d=n(72779),m=n.n(d),g=n(60501),f=n(68038),p=n(16929),v=n.n(p),h=function(e,t){return g.Z.uniformForward(e)},_=function(){},y=function(e,t){var n=e.href,r=e.onClick,i=void 0===r?h:r,s=e.className,c=e.children,u=e.domAttributes,d=e.onMouseDown,g=void 0===d?_:d,p=(0,l.useRef)(null),y=(0,a._)((0,l.useState)(!0),2),w=y[0],T=y[1],S=(0,l.useCallback)((function(e){i(n,e)}),[n,i]);return(0,l.useEffect)((function(){T(!1)}),[]),(0,f.P)(p,S),l.createElement("a",(0,o._)({href:n,ref:function(e){p.current=e,"function"==typeof t?t(e):t&&(t.current=e)},onClick:function(e){e.preventDefault(),S(e)},onMouseDown:function(e){e.preventDefault(),g(n,e)},className:m()(v().a,w&&v().preventNav,s)},u),c)},w=(0,l.memo)((0,l.forwardRef)(y)),T=n(8226),S=(n(96391),n(5127),n(17385),n(17125),n(9564),n(60452),n(23395),n(80978),n(11183),n(20306)),E=n(63601);var b=[{pagePath:"/goods.html",pageRegExp:["/(?:\\w*-)*g-(?<goods_id>\\d+)\\.html"],pageSingleKey:["goods_id"]},{pagePath:"/mall.html",pageRegExp:["/(?:\\w*-)*m-(?<mall_id>\\d+).html"],pageSingleKey:["mall_id"]},{pagePath:"/category.html",pageRegExp:["/(?:\\w*-)*o(?:\\d+)-(?<opt_id>\\d+)\\.html"],pageSingleKey:["opt_id"]},{pagePath:"/seo_search_result.html",pageRegExp:["/(?<search_key>[^\\s/]+)-s\\.html"],pageSingleKey:["search_key"]}];function C(e,t){var n=t||{},o=n.pageRegExp,r=n.pageSingleKey,a=n.pagePath,l=n.pathnamePrefix,s=function(e){var t=document.createElement("a");return t.href=e,t}(e),c=s||{},u=c.pathname,d=c.search,m=!1,g="";if((o||[]).reduce((function(e,t){return e||u.match(t)}),null))m=!0;else if(u.endsWith(a)){m=!0;var f=(0,i.mB)(d);r.reduce((function(e,t){return e&&f[t]}),!0)||(g="missing query "+r.join(" "))}else u.includes(l)&&(m=!0,g="url not match the rule "+o.join(" "));return{isThisPageUrl:m,errorMsg:g}}function k(e,t){(0,E.Y7)(window.navigator.userAgent);try{var n="";e||(n="url seoUrl href all does not exist");for(var o=t||b,r=o.length,a=!0,l=0;l<r&&a&&!n;){var i=C(e,o[l])||{},s=i.isThisPageUrl;n=i.errorMsg,s&&(a=!1),l+=1}if(n){var c=new Error("displayHref:"+(e||"no displayHref")+" "+n);(0,S.K2)(c,{errorCode:"500001"})}}catch(e){0}}function x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){var n=window.requestIdleCallback((function(){null==e||e.apply(void 0,(0,T._)(t))}));return function(){return window.cancelIdleCallback(n)}}var o=window.setTimeout((function(){null==e||e.apply(void 0,(0,T._)(t))}),1);return function(){return window.clearTimeout(o)}}(k,t)}var I=function(e){var t=e.displayUrl,n=e.jumpUrl,o=e.url,r=e.seoUrl;return t||(null==r?void 0:r.split("?")[0])||n||o},N=function(e){var t=e.displayUrl,n=e.jumpUrl,o=e.url,r=e.seoUrl;return n||o||t||r},P=function(e){return s.ZP.uniformForward(e)},L=function(e,t){var n=e.jumpUrl,d=e.url,m=(e.displayUrl,e.seoUrl,e.generateHref),g=e.generateMouseDownHref,f=e.onClick,p=void 0===f?P:f,v=e.children,h=e.isCheckDisplayHref,_=void 0===h||h,y=e.checkStaticRouteConfig,T=(0,r._)(e,["jumpUrl","url","displayUrl","seoUrl","generateHref","generateMouseDownHref","onClick","children","isCheckDisplayHref","checkStaticRouteConfig"]),S=(0,c.l)(),E=(m||S.generateHref||I)(e);(0,l.useEffect)((function(){return _?x(E,y):function(){}}),[_,E,y]);var b=(0,a._)((0,l.useState)(E),2),C=b[0],k=b[1],L=(0,l.useCallback)((function(e,t){p(n||d,t,C)}),[n,d,p,C]);return l.createElement(w,(0,o._)({href:C,onClick:L,onMouseDown:function(){var t=(0,u.kA)((0,i.ru)(s.ZP.getNextPageQuery(),(g||S.generateMouseDownHref||N)(e)));k(t)},ref:t},T),v)},M=(0,l.forwardRef)(L)},77450:function(e,t,n){"use strict";var o=n(94761),r=n(96526),a=n(1070),l=n(69150),i=n(2014),s=function(e,t){var n,s=(0,l.lO)()||{},c=(0,a.$)("bec-fe.svg-icons-h5"),u=c.t,d=c.i18n,m="M704 215.8c18.2-18.9 17.6-49-1.3-67.2-17-16.4-43.1-17.5-61.5-3.8l-5.8 5.1-315.4 328.7c-15.7 16.3-17.4 41.1-5.3 59.3l5.2 6.5 315.5 329.6c18.2 19 48.3 19.6 67.2 1.5 17.1-16.3 19.3-42.4 6.4-61.2l-4.9-6-284-296.6 283.9-295.9z",g="M320 215.8c-18.2-18.9-17.6-49 1.3-67.2 17-16.4 43.1-17.5 61.5-3.8l5.8 5.1 315.4 328.7c15.7 16.3 17.4 41.1 5.3 59.3l-5.2 6.5-315.5 329.6c-18.2 19-48.3 19.6-67.2 1.5-17.1-16.3-19.3-42.4-6.4-61.2l4.9-6 284-296.6-283.9-295.9z",f=(0,r.useMemo)((function(){var e,t,n;return("boolean"==typeof s.isRTL?s.isRTL:"rtl"===(null==(n=document)||null==(t=n.documentElement)||null==(e=t.getAttribute)?void 0:e.call(t,"dir")))?g:m}),[s.isRTL,g,m]);return r.createElement(i.l,(0,o._)({},e,{"aria-label":null!=(n=e["aria-label"])?n:d.exists("aria-label.CommonLeftArrow",{ns:"bec-fe.svg-icons-h5"})?u("aria-label.CommonLeftArrow"):void 0,ref:t,path:f}))};t.Z=r.forwardRef(s)},20218:function(e,t,n){"use strict";var o=n(94761),r=n(96526),a=n(1070),l=n(2014),i=function(e,t){var n,i=(0,a.$)("bec-fe.svg-icons-h5"),s=i.t,c=i.i18n;return r.createElement(l.l,(0,o._)({},e,{"aria-label":null!=(n=e["aria-label"])?n:c.exists("aria-label.CommonWrong",{ns:"bec-fe.svg-icons-h5"})?s("aria-label.CommonWrong"):void 0,ref:t,path:"M266.2 174.1l245.7 245.7 245.9-245.7c25.4-25.4 66.7-25.4 92.1 0 25.4 25.4 25.4 66.7 0 92.1l-245.8 245.7 245.8 245.9c25.4 25.4 25.4 66.7 0 92.1-25.4 25.4-66.7 25.4-92.1 0l-245.9-245.8-245.7 245.8c-25.4 25.4-66.7 25.4-92.1 0-25.4-25.4-25.4-66.7 0-92.1l245.7-245.9-245.7-245.7c-25.4-25.4-25.4-66.7 0-92.1 25.4-25.4 66.7-25.4 92.1 0z"}))};t.Z=r.forwardRef(i)},36062:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var o=n(94761),r=n(96526);function a(e){var t,n,a=e.children,l=e.styleProps,i=void 0===l?{}:l,s=e.isSeo,c=null==i||null==(n=i.backgroundImageUrl)||null==(t=n[0])?void 0:t.url,u=c?"url("+c+")":void 0;return s?r.createElement("h2",{style:(0,o._)({},i,{backgroundImage:u})},a):r.createElement("div",{style:(0,o._)({},i,{backgroundImage:u}),role:"heading",tabIndex:0},a)}}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/2590_b45ec4ffe17f5396.js.map